/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={};function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var i,s,r,o,a,l,u,h,c,d,p,f,m,_,g,v,y,w={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},b={duration:.5,overwrite:!1,delay:0},C=1e8,k=1e-8,T=2*Math.PI,E=T/4,S=0,x=Math.sqrt,I=Math.cos,A=Math.sin,P=function(e){return"string"==typeof e},M=function(e){return"function"==typeof e},D=function(e){return"number"==typeof e},F=function(e){return void 0===e},O=function(e){return"object"==typeof e},R=function(e){return!1!==e},L=function(){return"undefined"!=typeof window},N=function(e){return M(e)||P(e)},B="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},V=Array.isArray,z=/(?:-?\.?\d|\.)+/gi,q=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,U=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,j=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H=/[+-]=-?[.\d]+/,W=/[^,'"\[\]\s]+/gi,$=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,G={},Y={},K=function(e){return(Y=Te(e,G))&&En},X=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Q=function(e,t){return!t&&console.warn(e)},Z=function(e,t){return e&&(G[e]=t)&&Y&&(Y[e]=t)||G},J=function(){return 0},ee={suppressEvents:!0,isStart:!0,kill:!1},te={suppressEvents:!0,kill:!1},ne={suppressEvents:!0},ie={},se=[],re={},oe={},ae={},le=30,ue=[],he="",ce=function(e){var t,n,i=e[0];if(O(i)||M(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(n=ue.length;n--&&!ue[n].targetTest(i););t=ue[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Bt(e[n],t)))||e.splice(n,1);return e},de=function(e){return e._gsap||ce(tt(e))[0]._gsap},pe=function(e,t,n){return(n=e[t])&&M(n)?e[t]():F(n)&&e.getAttribute&&e.getAttribute(t)||n},fe=function(e,t){return(e=e.split(",")).forEach(t)||e},me=function(e){return Math.round(1e5*e)/1e5||0},_e=function(e){return Math.round(1e7*e)/1e7||0},ge=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+i:"-"===n?e-i:"*"===n?e*i:e/i},ve=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},ye=function(){var e,t,n=se.length,i=se.slice(0);for(re={},se.length=0,e=0;e<n;e++)(t=i[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},we=function(e,t,n,i){se.length&&!s&&ye(),e.render(t,n,i||s&&t<0&&(e._initted||e._startAt)),se.length&&!s&&ye()},be=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(W).length<2?t:P(e)?e.trim():e},Ce=function(e){return e},ke=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Te=function(e,t){for(var n in t)e[n]=t[n];return e},Ee=function e(t,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=O(n[i])?e(t[i]||(t[i]={}),n[i]):n[i]);return t},Se=function(e,t){var n,i={};for(n in e)n in t||(i[n]=e[n]);return i},xe=function(e){var t,n=e.parent||o,i=e.keyframes?(t=V(e.keyframes),function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}):ke;if(R(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},Ie=function(e,t,n,i,s){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r,o=e[i];if(s)for(r=t[s];o&&o[s]>r;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Ae=function(e,t,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var s=t._prev,r=t._next;s?s._next=r:e[n]===t&&(e[n]=r),r?r._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Pe=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Me=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},De=function(e,t,n,i){return e._startAt&&(s?e._startAt.revert(te):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Fe=function e(t){return!t||t._ts&&e(t.parent)},Oe=function(e){return e._repeat?Re(e._tTime,e=e.duration()+e._rDelay)*e:0},Re=function(e,t){var n=Math.floor(e=_e(e/t));return e&&n===e?n-1:n},Le=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ne=function(e){return e._end=_e(e._start+(e._tDur/Math.abs(e._ts||e._rts||k)||0))},Be=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_e(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ne(e),n._dirty||Me(n,e)),e},Ve=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Le(e.rawTime(),t),(!t._dur||Qe(0,t.totalDuration(),n)-t._tTime>k)&&t.render(n,!0)),Me(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},ze=function(e,t,n,i){return t.parent&&Pe(t),t._start=_e((D(n)?n:n||e!==o?Ye(e,n,t):e._time)+t._delay),t._end=_e(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ie(e,t,"_first","_last",e._sort?"_start":0),He(t)||(e._recent=t),i||Ve(e,t),e._ts<0&&Be(e,e._tTime),e},qe=function(e,t){return(G.ScrollTrigger||X("scrollTrigger",t))&&G.ScrollTrigger.create(t,e)},Ue=function(e,t,n,i,r){return $t(e,t,r),e._initted?!n&&e._pt&&!s&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&c!==Et.frame?(se.push(e),e._lazy=[r,i],1):void 0:1},je=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},He=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},We=function(e,t,n,i){var s=e._repeat,r=_e(t)||0,o=e._tTime/e._tDur;return o&&!i&&(e._time*=r/e._dur),e._dur=r,e._tDur=s?s<0?1e10:_e(r*(s+1)+e._rDelay*s):r,o>0&&!i&&Be(e,e._tTime=e._tDur*o),e.parent&&Ne(e),n||Me(e.parent,e),e},$e=function(e){return e instanceof zt?Me(e):We(e,e._dur)},Ge={_start:0,endTime:J,totalDuration:J},Ye=function e(t,n,i){var s,r,o,a=t.labels,l=t._recent||Ge,u=t.duration()>=C?l.endTime(!1):t._dur;return P(n)&&(isNaN(n)||n in a)?(r=n.charAt(0),o="%"===n.substr(-1),s=n.indexOf("="),"<"===r||">"===r?(s>=0&&(n=n.replace(/=/,"")),("<"===r?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(s<0?l:i).totalDuration()/100:1)):s<0?(n in a||(a[n]=u),a[n]):(r=parseFloat(n.charAt(s-1)+n.substr(s+1)),o&&i&&(r=r/100*(V(i)?i[0]:i).totalDuration()),s>1?e(t,n.substr(0,s-1),i)+r:u+r)):null==n?u:+n},Ke=function(e,t,n){var i,s,r=D(t[1]),o=(r?2:1)+(e<2?0:1),a=t[o];if(r&&(a.duration=t[1]),a.parent=n,e){for(i=a,s=n;s&&!("immediateRender"in i);)i=s.vars.defaults||{},s=R(s.vars.inherit)&&s.parent;a.immediateRender=R(i.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Qt(t[0],a,t[o+1])},Xe=function(e,t){return e||0===e?t(e):t},Qe=function(e,t,n){return n<e?e:n>t?t:n},Ze=function(e,t){return P(e)&&(t=$.exec(e))?t[1]:""},Je=[].slice,et=function(e,t){return e&&O(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&O(e[0]))&&!e.nodeType&&e!==a},tt=function(e,t,n){return r&&!t&&r.selector?r.selector(e):!P(e)||n||!l&&St()?V(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var i;return P(e)&&!t||et(e,1)?(i=n).push.apply(i,tt(e)):n.push(e)}))||n}(e,n):et(e)?Je.call(e,0):e?[e]:[]:Je.call((t||u).querySelectorAll(e),0)},nt=function(e){return e=tt(e)[0]||Q("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return tt(t,n.querySelectorAll?n:n===e?Q("Invalid scope")||u.createElement("div"):e)}},it=function(e){return e.sort((function(){return.5-Math.random()}))},st=function(e){if(M(e))return e;var t=O(e)?e:{each:e},n=Ft(t.ease),i=t.from||0,s=parseFloat(t.base)||0,r={},o=i>0&&i<1,a=isNaN(i)||o,l=t.axis,u=i,h=i;return P(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!o&&a&&(u=i[0],h=i[1]),function(e,o,c){var d,p,f,m,_,g,v,y,w,b=(c||t).length,k=r[b];if(!k){if(!(w="auto"===t.grid?0:(t.grid||[1,C])[1])){for(v=-C;v<(v=c[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(k=r[b]=[],d=a?Math.min(w,b)*u-.5:i%w,p=w===C?0:a?b*h/w-.5:i/w|0,v=0,y=C,g=0;g<b;g++)f=g%w-d,m=p-(g/w|0),k[g]=_=l?Math.abs("y"===l?m:f):x(f*f+m*m),_>v&&(v=_),_<y&&(y=_);"random"===i&&it(k),k.max=v-y,k.min=y,k.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0)*("edges"===i?-1:1),k.b=b<0?s-b:s,k.u=Ze(t.amount||t.each)||0,n=n&&b<0?Mt(n):n}return b=(k[e]-k.min)/k.max||0,_e(k.b+(n?n(b):b)*k.v)+k.u}},rt=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=_e(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(D(n)?0:Ze(n))}},ot=function(e,t){var n,i,s=V(e);return!s&&O(e)&&(n=s=e.radius||C,e.values?(e=tt(e.values),(i=!D(e[0]))&&(n*=n)):e=rt(e.increment)),Xe(t,s?M(e)?function(t){return i=e(t),Math.abs(i-t)<=n?i:t}:function(t){for(var s,r,o=parseFloat(i?t.x:t),a=parseFloat(i?t.y:0),l=C,u=0,h=e.length;h--;)(s=i?(s=e[h].x-o)*s+(r=e[h].y-a)*r:Math.abs(e[h]-o))<l&&(l=s,u=h);return u=!n||l<=n?e[u]:t,i||u===t||D(t)?u:u+Ze(t)}:rt(e))},at=function(e,t,n,i){return Xe(V(e)?!t:!0===n?!!(n=0):!i,(function(){return V(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*i)/i}))},lt=function(e,t,n){return Xe(n,(function(n){return e[~~t(n)]}))},ut=function(e){for(var t,n,i,s,r=0,o="";~(t=e.indexOf("random(",r));)i=e.indexOf(")",t),s="["===e.charAt(t+7),n=e.substr(t+7,i-t-7).match(s?W:z),o+=e.substr(r,t-r)+at(s?n:+n[0],s?0:+n[1],+n[2]||1e-5),r=i+1;return o+e.substr(r,e.length-r)},ht=function(e,t,n,i,s){var r=t-e,o=i-n;return Xe(s,(function(t){return n+((t-e)/r*o||0)}))},ct=function(e,t,n){var i,s,r,o=e.labels,a=C;for(i in o)(s=o[i]-t)<0==!!n&&s&&a>(s=Math.abs(s))&&(r=i,a=s);return r},dt=function(e,t,n){var i,s,o,a=e.vars,l=a[t],u=r,h=e._ctx;if(l)return i=a[t+"Params"],s=a.callbackScope||e,n&&se.length&&ye(),h&&(r=h),o=i?l.apply(s,i):l.call(s),r=u,o},pt=function(e){return Pe(e),e.scrollTrigger&&e.scrollTrigger.kill(!!s),e.progress()<1&&dt(e,"onInterrupt"),e},ft=[],mt=function(e){if(e)if(e=!e.name&&e.default||e,L()||e.headless){var t=e.name,n=M(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:J,render:an,add:Ht,kill:un,modifier:ln,rawVars:0},r={targetTest:0,get:0,getSetter:nn,aliases:{},register:0};if(St(),e!==i){if(oe[t])return;ke(i,ke(Se(e,s),r)),Te(i.prototype,Te(s,Se(e,r))),oe[i.prop=t]=i,e.targetTest&&(ue.push(i),ie[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Z(t,i),e.register&&e.register(En,i,dn)}else ft.push(e)},_t=255,gt={aqua:[0,_t,_t],lime:[0,_t,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_t],navy:[0,0,128],white:[_t,_t,_t],olive:[128,128,0],yellow:[_t,_t,0],orange:[_t,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_t,0,0],pink:[_t,192,203],cyan:[0,_t,_t],transparent:[_t,_t,_t,0]},vt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*_t+.5|0},yt=function(e,t,n){var i,s,r,o,a,l,u,h,c,d,p=e?D(e)?[e>>16,e>>8&_t,e&_t]:0:gt.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),gt[e])p=gt[e];else if("#"===e.charAt(0)){if(e.length<6&&(i=e.charAt(1),s=e.charAt(2),r=e.charAt(3),e="#"+i+i+s+s+r+r+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&_t,p&_t,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&_t,e&_t]}else if("hsl"===e.substr(0,3))if(p=d=e.match(z),t){if(~e.indexOf("="))return p=e.match(q),n&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,a=+p[1]/100,i=2*(l=+p[2]/100)-(s=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=vt(o+1/3,i,s),p[1]=vt(o,i,s),p[2]=vt(o-1/3,i,s);else p=e.match(z)||gt.transparent;p=p.map(Number)}return t&&!d&&(i=p[0]/_t,s=p[1]/_t,r=p[2]/_t,l=((u=Math.max(i,s,r))+(h=Math.min(i,s,r)))/2,u===h?o=a=0:(c=u-h,a=l>.5?c/(2-u-h):c/(u+h),o=u===i?(s-r)/c+(s<r?6:0):u===s?(r-i)/c+2:(i-s)/c+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},wt=function(e){var t=[],n=[],i=-1;return e.split(Ct).forEach((function(e){var s=e.match(U)||[];t.push.apply(t,s),n.push(i+=s.length+1)})),t.c=n,t},bt=function(e,t,n){var i,s,r,o,a="",l=(e+a).match(Ct),u=t?"hsla(":"rgba(",h=0;if(!l)return e;if(l=l.map((function(e){return(e=yt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(r=wt(e),(i=n.c).join(a)!==r.c.join(a)))for(o=(s=e.replace(Ct,"1").split(U)).length-1;h<o;h++)a+=s[h]+(~i.indexOf(h)?l.shift()||u+"0,0,0,0)":(r.length?r:l.length?l:n).shift());if(!s)for(o=(s=e.split(Ct)).length-1;h<o;h++)a+=s[h]+l[h];return a+s[o]},Ct=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in gt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),kt=/hsl[a]?\(/,Tt=function(e){var t,n=e.join(" ");if(Ct.lastIndex=0,Ct.test(n))return t=kt.test(n),e[1]=bt(e[1],t),e[0]=bt(e[0],t,wt(e[1])),!0},Et=function(){var e,t,n,i,s,r,o=Date.now,c=500,d=33,f=o(),m=f,_=1e3/240,g=_,v=[],y=function n(a){var l,u,h,p,y=o()-m,w=!0===a;if((y>c||y<0)&&(f+=y-d),((l=(h=(m+=y)-f)-g)>0||w)&&(p=++i.frame,s=h-1e3*i.time,i.time=h/=1e3,g+=l+(l>=_?4:_-l),u=1),w||(e=t(n)),u)for(r=0;r<v.length;r++)v[r](h,s,p,a)};return i={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(e){return s/(1e3/(e||60))},wake:function(){h&&(!l&&L()&&(a=l=window,u=a.document||{},G.gsap=En,(a.gsapVersions||(a.gsapVersions=[])).push(En.version),K(Y||a.GreenSockGlobals||!a.gsap&&a||{}),ft.forEach(mt)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,e&&i.sleep(),t=n||function(e){return setTimeout(e,g-1e3*i.time+1|0)},p=1,y(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),p=0,t=J},lagSmoothing:function(e,t){c=e||1/0,d=Math.min(t||33,c)},fps:function(e){_=1e3/(e||240),g=1e3*i.time+_},add:function(e,t,n){var s=t?function(t,n,r,o){e(t,n,r,o),i.remove(s)}:e;return i.remove(e),v[n?"unshift":"push"](s),St(),s},remove:function(e,t){~(t=v.indexOf(e))&&v.splice(t,1)&&r>=t&&r--},_listeners:v}}(),St=function(){return!p&&Et.wake()},xt={},It=/^[\d.\-M][\d.\-,\s]/,At=/["']/g,Pt=function(e){for(var t,n,i,s={},r=e.substr(1,e.length-3).split(":"),o=r[0],a=1,l=r.length;a<l;a++)n=r[a],t=a!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,t),s[o]=isNaN(i)?i.replace(At,"").trim():+i,o=n.substr(t+1).trim();return s},Mt=function(e){return function(t){return 1-e(1-t)}},Dt=function e(t,n){for(var i,s=t._first;s;)s instanceof zt?e(s,n):!s.vars.yoyoEase||s._yoyo&&s._repeat||s._yoyo===n||(s.timeline?e(s.timeline,n):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=n)),s=s._next},Ft=function(e,t){return e&&(M(e)?e:xt[e]||function(e){var t,n,i,s,r=(e+"").split("("),o=xt[r[0]];return o&&r.length>1&&o.config?o.config.apply(null,~e.indexOf("{")?[Pt(r[1])]:(t=e,n=t.indexOf("(")+1,i=t.indexOf(")"),s=t.indexOf("(",n),t.substring(n,~s&&s<i?t.indexOf(")",i+1):i)).split(",").map(be)):xt._CE&&It.test(e)?xt._CE("",e):o}(e))||t},Ot=function(e,t,n,i){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===i&&(i=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var s,r={easeIn:t,easeOut:n,easeInOut:i};return fe(e,(function(e){for(var t in xt[e]=G[e]=r,xt[s=e.toLowerCase()]=n,r)xt[s+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=xt[e+"."+t]=r[t]})),r},Rt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Lt=function e(t,n,i){var s=n>=1?n:1,r=(i||(t?.3:.45))/(n<1?n:1),o=r/T*(Math.asin(1/s)||0),a=function(e){return 1===e?1:s*Math.pow(2,-10*e)*A((e-o)*r)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Rt(a);return r=T/r,l.config=function(n,i){return e(t,n,i)},l},Nt=function e(t,n){void 0===n&&(n=1.70158);var i=function(e){return e?--e*e*((n+1)*e+n)+1:0},s="out"===t?i:"in"===t?function(e){return 1-i(1-e)}:Rt(i);return s.config=function(n){return e(t,n)},s};fe("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Ot(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),xt.Linear.easeNone=xt.none=xt.Linear.easeIn,Ot("Elastic",Lt("in"),Lt("out"),Lt()),f=7.5625,g=2*(_=1/(m=2.75)),v=2.5*_,Ot("Bounce",(function(e){return 1-y(1-e)}),y=function(e){return e<_?f*e*e:e<g?f*Math.pow(e-1.5/m,2)+.75:e<v?f*(e-=2.25/m)*e+.9375:f*Math.pow(e-2.625/m,2)+.984375}),Ot("Expo",(function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)})),Ot("Circ",(function(e){return-(x(1-e*e)-1)})),Ot("Sine",(function(e){return 1===e?1:1-I(e*E)})),Ot("Back",Nt("in"),Nt("out"),Nt()),xt.SteppedEase=xt.steps=G.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0;return function(e){return((i*Qe(0,.99999999,e)|0)+s)*n}}},b.ease=xt["quad.out"],fe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return he+=e+","+e+"Params,"}));var Bt=function(e,t){this.id=S++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:pe,this.set=t?t.getSetter:nn},Vt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,We(this,+e.duration,1,1),this.data=e.data,r&&(this._ctx=r,r.data.push(this)),p||Et.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,We(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(St(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Be(this,e),!n._dp||n.parent||Ve(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&ze(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===k||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),we(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Oe(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Oe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Re(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Le(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Qe(-Math.abs(this._delay),this._tDur,n),!1!==t),Ne(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(St(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==k&&(this._tTime-=k)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&ze(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(R(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Le(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ne);var t=s;return s=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),s=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,$e(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,$e(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ye(this,e),R(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,R(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-k))},t.eventCallback=function(e,t,n){var i=this.vars;return arguments.length>1?(t?(i[e]=t,n&&(i[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete i[e],this):i[e]},t.then=function(e){var t=this;return new Promise((function(n){var i=M(e)?e:Ce,s=function(){var e=t.then;t.then=null,M(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),n(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?s():t._prom=s}))},t.kill=function(){pt(this)},e}();ke(Vt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var zt=function(e){function i(n,i){var s;return void 0===n&&(n={}),(s=e.call(this,n)||this).labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=R(n.sortChildren),o&&ze(n.parent||o,t(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&qe(t(s),n.scrollTrigger),s}n(i,e);var r=i.prototype;return r.to=function(e,t,n){return Ke(0,arguments,this),this},r.from=function(e,t,n){return Ke(1,arguments,this),this},r.fromTo=function(e,t,n,i){return Ke(2,arguments,this),this},r.set=function(e,t,n){return t.duration=0,t.parent=this,xe(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Qt(e,t,Ye(this,n),1),this},r.call=function(e,t,n){return ze(this,Qt.delayedCall(0,e,t),n)},r.staggerTo=function(e,t,n,i,s,r,o){return n.duration=t,n.stagger=n.stagger||i,n.onComplete=r,n.onCompleteParams=o,n.parent=this,new Qt(e,n,Ye(this,s)),this},r.staggerFrom=function(e,t,n,i,s,r,o){return n.runBackwards=1,xe(n).immediateRender=R(n.immediateRender),this.staggerTo(e,t,n,i,s,r,o)},r.staggerFromTo=function(e,t,n,i,s,r,o,a){return i.startAt=n,xe(i).immediateRender=R(i.immediateRender),this.staggerTo(e,t,i,s,r,o,a)},r.render=function(e,t,n){var i,r,a,l,u,h,c,d,p,f,m,_,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,w=e<=0?0:_e(e),b=this._zTime<0!=e<0&&(this._initted||!y);if(this!==o&&w>v&&e>=0&&(w=v),w!==this._tTime||n||b){if(g!==this._time&&y&&(w+=this._time-g,e+=this._time-g),i=w,p=this._start,h=!(d=this._ts),b&&(y||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(m=this._yoyo,u=y+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(i=_e(w%u),w===v?(l=this._repeat,i=y):((l=~~(f=_e(w/u)))&&l===f&&(i=y,l--),i>y&&(i=y)),f=Re(this._tTime,u),!g&&this._tTime&&f!==l&&this._tTime-f*u-this._dur<=0&&(f=l),m&&1&l&&(i=y-i,_=1),l!==f&&!this._lock){var C=m&&1&f,T=C===(m&&1&l);if(l<f&&(C=!C),g=C?0:w%y?y:w,this._lock=1,this.render(g||(_?0:_e(l*u)),t,!y)._lock=0,this._tTime=w,!t&&this.parent&&dt(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),g&&g!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,T&&(this._lock=2,g=C?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;Dt(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,_e(g),_e(i)),c&&(w-=i-(i=c._start))),this._tTime=w,this._time=i,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),!g&&i&&!t&&!l&&(dt(this,"onStart"),this._tTime!==w))return this;if(i>=g&&e>=0)for(r=this._first;r;){if(a=r._next,(r._act||i>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,t,n),i!==this._time||!this._ts&&!h){c=0,a&&(w+=this._zTime=-1e-8);break}}r=a}else{r=this._last;for(var E=e<0?e:i;r;){if(a=r._prev,(r._act||E<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(r._ts>0?(E-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(E-r._start)*r._ts,t,n||s&&(r._initted||r._startAt)),i!==this._time||!this._ts&&!h){c=0,a&&(w+=this._zTime=E?-1e-8:k);break}}r=a}}if(c&&!t&&(this.pause(),c.render(i>=g?0:-1e-8)._zTime=i>=g?1:-1,this._ts))return this._start=p,Ne(this),this.render(e,t,n);this._onUpdate&&!t&&dt(this,"onUpdate",!0),(w===v&&this._tTime>=this.totalDuration()||!w&&g)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!y)&&(w===v&&this._ts>0||!w&&this._ts<0)&&Pe(this,1),t||e<0&&!g||!w&&!g&&v||(dt(this,w===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<v&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var n=this;if(D(t)||(t=Ye(this,t,e)),!(e instanceof Vt)){if(V(e))return e.forEach((function(e){return n.add(e,t)})),this;if(P(e))return this.addLabel(e,t);if(!M(e))return this;e=Qt.delayedCall(0,e)}return this!==e?ze(this,e,t):this},r.getChildren=function(e,t,n,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=-C);for(var s=[],r=this._first;r;)r._start>=i&&(r instanceof Qt?t&&s.push(r):(n&&s.push(r),e&&s.push.apply(s,r.getChildren(!0,t,n)))),r=r._next;return s},r.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},r.remove=function(e){return P(e)?this.removeLabel(e):M(e)?this.killTweensOf(e):(e.parent===this&&Ae(this,e),e===this._recent&&(this._recent=this._last),Me(this))},r.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_e(Et.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=Ye(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,n){var i=Qt.delayedCall(0,t||J,n);return i.data="isPause",this._hasPause=1,ze(this,i,Ye(this,e))},r.removePause=function(e){var t=this._first;for(e=Ye(this,e);t;)t._start===e&&"isPause"===t.data&&Pe(t),t=t._next},r.killTweensOf=function(e,t,n){for(var i=this.getTweensOf(e,n),s=i.length;s--;)qt!==i[s]&&i[s].kill(e,t);return this},r.getTweensOf=function(e,t){for(var n,i=[],s=tt(e),r=this._first,o=D(t);r;)r instanceof Qt?ve(r._targets,s)&&(o?(!qt||r._initted&&r._ts)&&r.globalTime(0)<=t&&r.globalTime(r.totalDuration())>t:!t||r.isActive())&&i.push(r):(n=r.getTweensOf(s,t)).length&&i.push.apply(i,n),r=r._next;return i},r.tweenTo=function(e,t){t=t||{};var n,i=this,s=Ye(i,e),r=t,o=r.startAt,a=r.onStart,l=r.onStartParams,u=r.immediateRender,h=Qt.to(i,ke({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:t.duration||Math.abs((s-(o&&"time"in o?o.time:i._time))/i.timeScale())||k,onStart:function(){if(i.pause(),!n){var e=t.duration||Math.abs((s-(o&&"time"in o?o.time:i._time))/i.timeScale());h._dur!==e&&We(h,e,0,1).render(h._time,!0,!0),n=1}a&&a.apply(h,l||[])}},t));return u?h.render(0):h},r.tweenFromTo=function(e,t,n){return this.tweenTo(t,ke({startAt:{time:Ye(this,e)}},n))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),ct(this,Ye(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),ct(this,Ye(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+k)},r.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var i,s=this._first,r=this.labels;s;)s._start>=n&&(s._start+=e,s._end+=e),s=s._next;if(t)for(i in r)r[i]>=n&&(r[i]+=e);return Me(this)},r.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},r.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Me(this)},r.totalDuration=function(e){var t,n,i,s=0,r=this,a=r._last,l=C;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-e:e));if(r._dirty){for(i=r.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>l&&r._sort&&a._ts&&!r._lock?(r._lock=1,ze(r,a,n-a._delay,1)._lock=0):l=n,n<0&&a._ts&&(s-=n,(!i&&!r._dp||i&&i.smoothChildTiming)&&(r._start+=n/r._ts,r._time-=n,r._tTime-=n),r.shiftChildren(-n,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=t;We(r,r===o&&r._time>s?r._time:s,1,1),r._dirty=0}return r._tDur},i.updateRoot=function(e){if(o._ts&&(we(o,Le(e,o)),c=Et.frame),Et.frame>=le){le+=w.autoSleep||120;var t=o._first;if((!t||!t._ts)&&w.autoSleep&&Et._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Et.sleep()}}},i}(Vt);ke(zt.prototype,{_lock:0,_hasPause:0,_forcing:0});var qt,Ut,jt=function(e,t,n,i,s,r,o){var a,l,u,h,c,d,p,f,m=new dn(this._pt,e,t,0,1,on,null,s),_=0,g=0;for(m.b=n,m.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=ut(i)),r&&(r(f=[n,i],e,t),n=f[0],i=f[1]),l=n.match(j)||[];a=j.exec(i);)h=a[0],c=i.substring(_,a.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),h!==l[g++]&&(d=parseFloat(l[g-1])||0,m._pt={_next:m._pt,p:c||1===g?c:",",s:d,c:"="===h.charAt(1)?ge(d,h)-d:parseFloat(h)-d,m:u&&u<4?Math.round:0},_=j.lastIndex);return m.c=_<i.length?i.substring(_,i.length):"",m.fp=o,(H.test(i)||p)&&(m.e=0),this._pt=m,m},Ht=function(e,t,n,i,s,r,o,a,l,u){M(i)&&(i=i(s||0,e,r));var h,c=e[t],d="get"!==n?n:M(c)?l?e[t.indexOf("set")||!M(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():c,p=M(c)?l?en:Jt:Zt;if(P(i)&&(~i.indexOf("random(")&&(i=ut(i)),"="===i.charAt(1)&&((h=ge(d,i)+(Ze(d)||0))||0===h)&&(i=h)),!u||d!==i||Ut)return isNaN(d*i)||""===i?(!c&&!(t in e)&&X(t,i),jt.call(this,e,t,d,i,p,a||w.stringFilter,l)):(h=new dn(this._pt,e,t,+d||0,i-(d||0),"boolean"==typeof c?rn:sn,0,p),l&&(h.fp=l),o&&h.modifier(o,this,e),this._pt=h)},Wt=function(e,t,n,i,s,r){var o,a,l,u;if(oe[e]&&!1!==(o=new oe[e]).init(s,o.rawVars?t[e]:function(e,t,n,i,s){if(M(e)&&(e=Yt(e,s,t,n,i)),!O(e)||e.style&&e.nodeType||V(e)||B(e))return P(e)?Yt(e,s,t,n,i):e;var r,o={};for(r in e)o[r]=Yt(e[r],s,t,n,i);return o}(t[e],i,s,r,n),n,i,r)&&(n._pt=a=new dn(n._pt,s,e,0,1,o.render,o,0,o.priority),n!==d))for(l=n._ptLookup[n._targets.indexOf(s)],u=o._props.length;u--;)l[o._props[u]]=a;return o},$t=function e(t,n,r){var a,l,u,h,c,d,p,f,m,_,g,v,y,w=t.vars,T=w.ease,E=w.startAt,S=w.immediateRender,x=w.lazy,I=w.onUpdate,A=w.runBackwards,P=w.yoyoEase,M=w.keyframes,D=w.autoRevert,F=t._dur,O=t._startAt,L=t._targets,N=t.parent,B=N&&"nested"===N.data?N.vars.targets:L,V="auto"===t._overwrite&&!i,z=t.timeline;if(z&&(!M||!T)&&(T="none"),t._ease=Ft(T,b.ease),t._yEase=P?Mt(Ft(!0===P?T:P,b.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),t._from=!z&&!!w.runBackwards,!z||M&&!w.stagger){if(v=(f=L[0]?de(L[0]).harness:0)&&w[f.prop],a=Se(w,ie),O&&(O._zTime<0&&O.progress(1),n<0&&A&&S&&!D?O.render(-1,!0):O.revert(A&&F?te:ee),O._lazy=0),E){if(Pe(t._startAt=Qt.set(L,ke({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!O&&R(x),startAt:null,delay:0,onUpdate:I&&function(){return dt(t,"onUpdate")},stagger:0},E))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(s||!S&&!D)&&t._startAt.revert(te),S&&F&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(A&&F&&!O)if(n&&(S=!1),u=ke({overwrite:!1,data:"isFromStart",lazy:S&&!O&&R(x),immediateRender:S,stagger:0,parent:N},a),v&&(u[f.prop]=v),Pe(t._startAt=Qt.set(L,u)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(s?t._startAt.revert(te):t._startAt.render(-1,!0)),t._zTime=n,S){if(!n)return}else e(t._startAt,k,k);for(t._pt=t._ptCache=0,x=F&&R(x)||x&&!F,l=0;l<L.length;l++){if(p=(c=L[l])._gsap||ce(L)[l]._gsap,t._ptLookup[l]=_={},re[p.id]&&se.length&&ye(),g=B===L?l:B.indexOf(c),f&&!1!==(m=new f).init(c,v||a,t,g,B)&&(t._pt=h=new dn(t._pt,c,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(e){_[e]=h})),m.priority&&(d=1)),!f||v)for(u in a)oe[u]&&(m=Wt(u,a,t,g,c,B))?m.priority&&(d=1):_[u]=h=Ht.call(t,c,u,"get",a[u],g,B,0,w.stringFilter);t._op&&t._op[l]&&t.kill(c,t._op[l]),V&&t._pt&&(qt=t,o.killTweensOf(c,_,t.globalTime(n)),y=!t.parent,qt=0),t._pt&&x&&(re[p.id]=1)}d&&cn(t),t._onInit&&t._onInit(t)}t._onUpdate=I,t._initted=(!t._op||t._pt)&&!y,M&&n<=0&&z.render(C,!0,!0)},Gt=function(e,t,n,i){var s,r,o=t.ease||i||"power1.inOut";if(V(t))r=n[e]||(n[e]=[]),t.forEach((function(e,n){return r.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(s in t)r=n[s]||(n[s]=[]),"ease"===s||r.push({t:parseFloat(e),v:t[s],e:o})},Yt=function(e,t,n,i,s){return M(e)?e.call(t,n,i,s):P(e)&&~e.indexOf("random(")?ut(e):e},Kt=he+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Xt={};fe(Kt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Xt[e]=1}));var Qt=function(e){function r(n,s,r,a){var l;"number"==typeof s&&(r.duration=s,s=r,r=null);var u,h,c,d,p,f,m,_,g=(l=e.call(this,a?s:xe(s))||this).vars,v=g.duration,y=g.delay,b=g.immediateRender,C=g.stagger,k=g.overwrite,T=g.keyframes,E=g.defaults,S=g.scrollTrigger,x=g.yoyoEase,I=s.parent||o,A=(V(n)||B(n)?D(n[0]):"length"in s)?[n]:tt(n);if(l._targets=A.length?ce(A):Q("GSAP target "+n+" not found. https://gsap.com",!w.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=k,T||C||N(v)||N(y)){if(s=l.vars,(u=l.timeline=new zt({data:"nested",defaults:E||{},targets:I&&"nested"===I.data?I.vars.targets:A})).kill(),u.parent=u._dp=t(l),u._start=0,C||N(v)||N(y)){if(d=A.length,m=C&&st(C),O(C))for(p in C)~Kt.indexOf(p)&&(_||(_={}),_[p]=C[p]);for(h=0;h<d;h++)(c=Se(s,Xt)).stagger=0,x&&(c.yoyoEase=x),_&&Te(c,_),f=A[h],c.duration=+Yt(v,t(l),h,f,A),c.delay=(+Yt(y,t(l),h,f,A)||0)-l._delay,!C&&1===d&&c.delay&&(l._delay=y=c.delay,l._start+=y,c.delay=0),u.to(f,c,m?m(h,f,A):0),u._ease=xt.none;u.duration()?v=y=0:l.timeline=0}else if(T){xe(ke(u.vars.defaults,{ease:"none"})),u._ease=Ft(T.ease||s.ease||"none");var P,M,F,L=0;if(V(T))T.forEach((function(e){return u.to(A,e,">")})),u.duration();else{for(p in c={},T)"ease"===p||"easeEach"===p||Gt(p,T[p],c,T.easeEach);for(p in c)for(P=c[p].sort((function(e,t){return e.t-t.t})),L=0,h=0;h<P.length;h++)(F={ease:(M=P[h]).e,duration:(M.t-(h?P[h-1].t:0))/100*v})[p]=M.v,u.to(A,F,L),L+=F.duration;u.duration()<v&&u.to({},{duration:v-u.duration()})}}v||l.duration(v=u.duration())}else l.timeline=0;return!0!==k||i||(qt=t(l),o.killTweensOf(A),qt=0),ze(I,t(l),r),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(b||!v&&!T&&l._start===_e(I._time)&&R(b)&&Fe(t(l))&&"nested"!==I.data)&&(l._tTime=-1e-8,l.render(Math.max(0,-y)||0)),S&&qe(t(l),S),l}n(r,e);var a=r.prototype;return a.render=function(e,t,n){var i,r,o,a,l,u,h,c,d,p=this._time,f=this._tDur,m=this._dur,_=e<0,g=e>f-k&&!_?f:e<k?0:e;if(m){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(i=g,c=this.timeline,this._repeat){if(a=m+this._rDelay,this._repeat<-1&&_)return this.totalTime(100*a+e,t,n);if(i=_e(g%a),g===f?(o=this._repeat,i=m):(o=~~(l=_e(g/a)))&&o===l?(i=m,o--):i>m&&(i=m),(u=this._yoyo&&1&o)&&(d=this._yEase,i=m-i),l=Re(this._tTime,a),i===p&&!n&&this._initted&&o===l)return this._tTime=g,this;o!==l&&(c&&this._yEase&&Dt(c,u),this.vars.repeatRefresh&&!u&&!this._lock&&i!==a&&this._initted&&(this._lock=n=1,this.render(_e(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(Ue(this,_?e:i,n,t,g))return this._tTime=0,this;if(!(p===this._time||n&&this.vars.repeatRefresh&&o!==l))return this;if(m!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(d||this._ease)(i/m),this._from&&(this.ratio=h=1-h),i&&!p&&!t&&!o&&(dt(this,"onStart"),this._tTime!==g))return this;for(r=this._pt;r;)r.r(h,r.d),r=r._next;c&&c.render(e<0?e:c._dur*c._ease(i/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(_&&De(this,e,0,n),dt(this,"onUpdate")),this._repeat&&o!==l&&this.vars.onRepeat&&!t&&this.parent&&dt(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(_&&!this._onUpdate&&De(this,e,0,!0),(e||!m)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Pe(this,1),t||_&&!p||!(g||p||u)||(dt(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,i){var r,o,a,l=e.ratio,u=t<0||!t&&(!e._start&&je(e)&&(e._initted||!He(e))||(e._ts<0||e._dp._ts<0)&&!He(e))?0:1,h=e._rDelay,c=0;if(h&&e._repeat&&(c=Qe(0,e._tDur,t),o=Re(c,h),e._yoyo&&1&o&&(u=1-u),o!==Re(e._tTime,h)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||s||i||e._zTime===k||!t&&e._zTime){if(!e._initted&&Ue(e,t,i,n,c))return;for(a=e._zTime,e._zTime=t||(n?k:0),n||(n=t&&!a),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=c,r=e._pt;r;)r.r(u,r.d),r=r._next;t<0&&De(e,t,0,!0),e._onUpdate&&!n&&dt(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&dt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Pe(e,1),n||s||(dt(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},a.targets=function(){return this._targets},a.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},a.resetTo=function(e,t,n,i,s){p||Et.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||$t(this,r),function(e,t,n,i,s,r,o,a){var l,u,h,c,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],h=e._ptLookup,c=e._targets.length;c--;){if((l=h[c][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Ut=1,e.vars[t]="+=0",$t(e,o),Ut=0,a?Q(t+" not eligible for reset"):1;d.push(l)}for(c=d.length;c--;)(l=(u=d[c])._pt||u).s=!i&&0!==i||s?l.s+(i||0)+r*l.c:i,l.c=n-l.s,u.e&&(u.e=me(n)+Ze(u.e)),u.b&&(u.b=l.s+Ze(u.b))}(this,e,t,n,i,this._ease(r/this._dur),r,s)?this.resetTo(e,t,n,i,1):(Be(this,0),this.parent||Ie(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},a.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?pt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!s),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,qt&&!0!==qt.vars.overwrite)._first||pt(this),this.parent&&n!==this.timeline.totalDuration()&&We(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,o,a,l,u,h,c=this._targets,d=e?tt(e):c,p=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0}(c,d))return"all"===t&&(this._pt=0),pt(this);for(i=this._op=this._op||[],"all"!==t&&(P(t)&&(l={},fe(t,(function(e){return l[e]=1})),t=l),t=function(e,t){var n,i,s,r,o=e[0]?de(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(i in n=Te({},t),a)if(i in n)for(s=(r=a[i].split(",")).length;s--;)n[r[s]]=n[i];return n}(c,t)),h=c.length;h--;)if(~d.indexOf(c[h]))for(l in r=p[h],"all"===t?(i[h]=t,a=r,o={}):(o=i[h]=i[h]||{},a=t),a)(u=r&&r[l])&&("kill"in u.d&&!0!==u.d.kill(l)||Ae(this,u,"_pt"),delete r[l]),"all"!==o&&(o[l]=1);return this._initted&&!this._pt&&f&&pt(this),this},r.to=function(e,t){return new r(e,t,arguments[2])},r.from=function(e,t){return Ke(1,arguments)},r.delayedCall=function(e,t,n,i){return new r(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},r.fromTo=function(e,t,n){return Ke(2,arguments)},r.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new r(e,t)},r.killTweensOf=function(e,t,n){return o.killTweensOf(e,t,n)},r}(Vt);ke(Qt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),fe("staggerTo,staggerFrom,staggerFromTo",(function(e){Qt[e]=function(){var t=new zt,n=Je.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Zt=function(e,t,n){return e[t]=n},Jt=function(e,t,n){return e[t](n)},en=function(e,t,n,i){return e[t](i.fp,n)},tn=function(e,t,n){return e.setAttribute(t,n)},nn=function(e,t){return M(e[t])?Jt:F(e[t])&&e.setAttribute?tn:Zt},sn=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},rn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},on=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},an=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},ln=function(e,t,n,i){for(var s,r=this._pt;r;)s=r._next,r.p===i&&r.modifier(e,t,n),r=s},un=function(e){for(var t,n,i=this._pt;i;)n=i._next,i.p===e&&!i.op||i.op===e?Ae(this,i,"_pt"):i.dep||(t=1),i=n;return!t},hn=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},cn=function(e){for(var t,n,i,s,r=e._pt;r;){for(t=r._next,n=i;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:s)?r._prev._next=r:i=r,(r._next=n)?n._prev=r:s=r,r=t}e._pt=i},dn=function(){function e(e,t,n,i,s,r,o,a,l){this.t=t,this.s=i,this.c=s,this.p=n,this.r=r||sn,this.d=o||this,this.set=a||Zt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=hn,this.m=e,this.mt=n,this.tween=t},e}();fe(he+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return ie[e]=1})),G.TweenMax=G.TweenLite=Qt,G.TimelineLite=G.TimelineMax=zt,o=new zt({sortChildren:!1,defaults:b,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),w.stringFilter=Tt;var pn=[],fn={},mn=[],_n=0,gn=0,vn=function(e){return(fn[e]||mn).map((function(e){return e()}))},yn=function(){var e=Date.now(),t=[];e-_n>2&&(vn("matchMediaInit"),pn.forEach((function(e){var n,i,s,r,o=e.queries,l=e.conditions;for(i in o)(n=a.matchMedia(o[i]).matches)&&(s=1),n!==l[i]&&(l[i]=n,r=1);r&&(e.revert(),s&&t.push(e))})),vn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),_n=e,vn("matchMedia"))},wn=function(){function e(e,t){this.selector=t&&nt(t),this.data=[],this._r=[],this.isReverted=!1,this.id=gn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){M(e)&&(n=t,t=e,e=M);var i=this,s=function(){var e,s=r,o=i.selector;return s&&s!==i&&s.data.push(i),n&&(i.selector=nt(n)),r=i,e=t.apply(i,arguments),M(e)&&i._r.push(e),r=s,i.selector=o,i.isReverted=!1,e};return i.last=s,e===M?s(i,(function(e){return i.add(null,e)})):e?i[e]=s:s},t.ignore=function(e){var t=r;r=null,e(this),r=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Qt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,i=n.getTweens(),s=n.data.length;s--;)"isFlip"===(t=n.data[s]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return i.splice(i.indexOf(e),1)})));for(i.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),s=n.data.length;s--;)(t=n.data[s])instanceof zt?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Qt)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var i=pn.length;i--;)pn[i].id===this.id&&pn.splice(i,1)},t.revert=function(e){this.kill(e||{})},e}(),bn=function(){function e(e){this.contexts=[],this.scope=e,r&&r.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){O(e)||(e={matches:e});var i,s,o,l=new wn(0,n||this.scope),u=l.conditions={};for(s in r&&!l.selector&&(l.selector=r.selector),this.contexts.push(l),t=l.add("onMatch",t),l.queries=e,e)"all"===s?o=1:(i=a.matchMedia(e[s]))&&(pn.indexOf(l)<0&&pn.push(l),(u[s]=i.matches)&&(o=1),i.addListener?i.addListener(yn):i.addEventListener("change",yn));return o&&t(l,(function(e){return l.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Cn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return mt(e)}))},timeline:function(e){return new zt(e)},getTweensOf:function(e,t){return o.getTweensOf(e,t)},getProperty:function(e,t,n,i){P(e)&&(e=tt(e)[0]);var s=de(e||{}).get,r=n?Ce:be;return"native"===n&&(n=""),e?t?r((oe[t]&&oe[t].get||s)(e,t,n,i)):function(t,n,i){return r((oe[t]&&oe[t].get||s)(e,t,n,i))}:e},quickSetter:function(e,t,n){if((e=tt(e)).length>1){var i=e.map((function(e){return En.quickSetter(e,t,n)})),s=i.length;return function(e){for(var t=s;t--;)i[t](e)}}e=e[0]||{};var r=oe[t],o=de(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=r?function(t){var i=new r;d._pt=0,i.init(e,n?t+n:t,d,0,[e]),i.render(1,i),d._pt&&an(1,d)}:o.set(e,a);return r?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var i,s=En.to(e,ke(((i={})[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),r=function(e,n,i){return s.resetTo(t,e,n,i)};return r.tween=s,r},isTweening:function(e){return o.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ft(e.ease,b.ease)),Ee(b,e||{})},config:function(e){return Ee(w,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,r=e.extendTimeline;(i||"").split(",").forEach((function(e){return e&&!oe[e]&&!G[e]&&Q(t+" effect requires "+e+" plugin.")})),ae[t]=function(e,t,i){return n(tt(e),ke(t||{},s),i)},r&&(zt.prototype[t]=function(e,n,i){return this.add(ae[t](e,O(n)?n:(i=n)&&{},this),i)})},registerEase:function(e,t){xt[e]=Ft(t)},parseEase:function(e,t){return arguments.length?Ft(e,t):xt},getById:function(e){return o.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,i,s=new zt(e);for(s.smoothChildTiming=R(e.smoothChildTiming),o.remove(s),s._dp=0,s._time=s._tTime=o._time,n=o._first;n;)i=n._next,!t&&!n._dur&&n instanceof Qt&&n.vars.onComplete===n._targets[0]||ze(s,n,n._start-n._delay),n=i;return ze(o,s,0),s},context:function(e,t){return e?new wn(e,t):r},matchMedia:function(e){return new bn(e)},matchMediaRefresh:function(){return pn.forEach((function(e){var t,n,i=e.conditions;for(n in i)i[n]&&(i[n]=!1,t=1);t&&e.revert()}))||yn()},addEventListener:function(e,t){var n=fn[e]||(fn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=fn[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:function e(t,n,i){var s=n-t;return V(t)?lt(t,e(0,t.length),n):Xe(i,(function(e){return(s+(e-t)%s)%s+t}))},wrapYoyo:function e(t,n,i){var s=n-t,r=2*s;return V(t)?lt(t,e(0,t.length-1),n):Xe(i,(function(e){return t+((e=(r+(e-t)%r)%r||0)>s?r-e:e)}))},distribute:st,random:at,snap:ot,normalize:function(e,t,n){return ht(e,t,0,1,n)},getUnit:Ze,clamp:function(e,t,n){return Xe(n,(function(n){return Qe(e,t,n)}))},splitColor:yt,toArray:tt,selector:nt,mapRange:ht,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ze(n))}},interpolate:function e(t,n,i,s){var r=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!r){var o,a,l,u,h,c=P(t),d={};if(!0===i&&(s=1)&&(i=null),c)t={p:t},n={p:n};else if(V(t)&&!V(n)){for(l=[],u=t.length,h=u-2,a=1;a<u;a++)l.push(e(t[a-1],t[a]));u--,r=function(e){e*=u;var t=Math.min(h,~~e);return l[t](e-t)},i=n}else s||(t=Te(V(t)?[]:{},t));if(!l){for(o in n)Ht.call(d,t,o,"get",n[o]);r=function(e){return an(e,d)||(c?t.p:t)}}}return Xe(i,r)},shuffle:it},install:K,effects:ae,ticker:Et,updateRoot:zt.updateRoot,plugins:oe,globalTimeline:o,core:{PropTween:dn,globals:Z,Tween:Qt,Timeline:zt,Animation:Vt,getCache:de,_removeLinkedListItem:Ae,reverting:function(){return s},context:function(e){return e&&r&&(r.data.push(e),e._ctx=r),r},suppressOverwrites:function(e){return i=e}}};fe("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Cn[e]=Qt[e]})),Et.add(zt.updateRoot),d=Cn.to({},{duration:0});var kn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Tn=function(e,t){return{name:e,rawVars:1,init:function(e,n,i){i._onInit=function(e){var i,s;if(P(n)&&(i={},fe(n,(function(e){return i[e]=1})),n=i),t){for(s in i={},n)i[s]=t(n[s]);n=i}!function(e,t){var n,i,s,r=e._targets;for(n in t)for(i=r.length;i--;)(s=e._ptLookup[i][n])&&(s=s.d)&&(s._pt&&(s=kn(s,n)),s&&s.modifier&&s.modifier(t[n],e,r[i],n))}(e,n)}}}},En=Cn.registerPlugin({name:"attr",init:function(e,t,n,i,s){var r,o,a;for(r in this.tween=n,t)a=e.getAttribute(r)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[r],i,s,0,0,r)).op=r,o.b=a,this._props.push(r)},render:function(e,t){for(var n=t._pt;n;)s?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Tn("roundProps",rt),Tn("modifiers"),Tn("snap",ot))||Cn;Qt.version=zt.version=En.version="3.12.7",h=1,L()&&St(),xt.Power0,xt.Power1,xt.Power2,xt.Power3,xt.Power4,xt.Linear,xt.Quad,xt.Cubic,xt.Quart,xt.Quint,xt.Strong,xt.Elastic,xt.Back,xt.SteppedEase,xt.Bounce,xt.Sine,xt.Expo,xt.Circ;var Sn,xn,In,An,Pn,Mn,Dn,Fn,On={},Rn=180/Math.PI,Ln=Math.PI/180,Nn=Math.atan2,Bn=/([A-Z])/g,Vn=/(left|right|width|margin|padding|x)/i,zn=/[\s,\(]\S/,qn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Un=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},jn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Hn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Wn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},$n=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Gn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Yn=function(e,t,n){return e.style[t]=n},Kn=function(e,t,n){return e.style.setProperty(t,n)},Xn=function(e,t,n){return e._gsap[t]=n},Qn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Zn=function(e,t,n,i,s){var r=e._gsap;r.scaleX=r.scaleY=n,r.renderTransform(s,r)},Jn=function(e,t,n,i,s){var r=e._gsap;r[t]=n,r.renderTransform(s,r)},ei="transform",ti=ei+"Origin",ni=function e(t,n){var i=this,s=this.target,r=s.style,o=s._gsap;if(t in On&&r){if(this.tfm=this.tfm||{},"transform"===t)return qn.transform.split(",").forEach((function(t){return e.call(i,t,n)}));if(~(t=qn[t]||t).indexOf(",")?t.split(",").forEach((function(e){return i.tfm[e]=wi(s,e)})):this.tfm[t]=o.x?o[t]:wi(s,t),t===ti&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(ei)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(ti,n,"")),t=ei}(r||n)&&this.props.push(t,n,r[t])},ii=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},si=function(){var e,t,n=this.props,i=this.target,s=i.style,r=i._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?i[n[e]](n[e+2]):i[n[e]]=n[e+2]:n[e+2]?s[n[e]]=n[e+2]:s.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Bn,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)r[t]=this.tfm[t];r.svg&&(r.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),(e=Dn())&&e.isStart||s[ei]||(ii(s),r.zOrigin&&s[ti]&&(s[ti]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},ri=function(e,t){var n={target:e,props:[],revert:si,save:ni};return e._gsap||En.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach((function(e){return n.save(e)})),n},oi=function(e,t){var n=xn.createElementNS?xn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xn.createElement(e);return n&&n.style?n:xn.createElement(e)},ai=function e(t,n,i){var s=getComputedStyle(t);return s[n]||s.getPropertyValue(n.replace(Bn,"-$1").toLowerCase())||s.getPropertyValue(n)||!i&&e(t,ui(n)||n,1)||""},li="O,Moz,ms,Ms,Webkit".split(","),ui=function(e,t,n){var i=(t||Pn).style,s=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(li[s]+e in i););return s<0?null:(3===s?"ms":s>=0?li[s]:"")+e},hi=function(){"undefined"!=typeof window&&window.document&&(Sn=window,xn=Sn.document,In=xn.documentElement,Pn=oi("div")||{style:{}},oi("div"),ei=ui(ei),ti=ei+"Origin",Pn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Fn=!!ui("perspective"),Dn=En.core.reverting,An=1)},ci=function(e){var t,n=e.ownerSVGElement,i=oi("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0);s.style.display="block",i.appendChild(s),In.appendChild(i);try{t=s.getBBox()}catch(e){}return i.removeChild(s),In.removeChild(i),t},di=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},pi=function(e){var t,n;try{t=e.getBBox()}catch(i){t=ci(e),n=1}return t&&(t.width||t.height)||n||(t=ci(e)),!t||t.width||t.x||t.y?t:{x:+di(e,["x","cx","x1"])||0,y:+di(e,["y","cy","y1"])||0,width:0,height:0}},fi=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!pi(e))},mi=function(e,t){if(t){var n,i=e.style;t in On&&t!==ti&&(t=ei),i.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty("--"===n?t:t.replace(Bn,"-$1").toLowerCase())):i.removeAttribute(t)}},_i=function(e,t,n,i,s,r){var o=new dn(e._pt,t,n,0,1,r?Gn:$n);return e._pt=o,o.b=i,o.e=s,e._props.push(n),o},gi={deg:1,rad:1,turn:1},vi={grid:1,flex:1},yi=function e(t,n,i,s){var r,o,a,l,u=parseFloat(i)||0,h=(i+"").trim().substr((u+"").length)||"px",c=Pn.style,d=Vn.test(n),p="svg"===t.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),m=100,_="px"===s,g="%"===s;if(s===h||!u||gi[s]||gi[h])return u;if("px"!==h&&!_&&(u=e(t,n,i,"px")),l=t.getCTM&&fi(t),(g||"%"===h)&&(On[n]||~n.indexOf("adius")))return r=l?t.getBBox()[d?"width":"height"]:t[f],me(g?u/r*m:u/100*r);if(c[d?"width":"height"]=m+(_?h:s),o="rem"!==s&&~n.indexOf("adius")||"em"===s&&t.appendChild&&!p?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==xn&&o.appendChild||(o=xn.body),(a=o._gsap)&&g&&a.width&&d&&a.time===Et.time&&!a.uncache)return me(u/a.width*m);if(!g||"height"!==n&&"width"!==n)(g||"%"===h)&&!vi[ai(o,"display")]&&(c.position=ai(t,"position")),o===t&&(c.position="static"),o.appendChild(Pn),r=Pn[f],o.removeChild(Pn),c.position="absolute";else{var v=t.style[n];t.style[n]=m+s,r=t[f],v?t.style[n]=v:mi(t,n)}return d&&g&&((a=de(o)).time=Et.time,a.width=o[f]),me(_?r*u/m:r&&u?m/r*u:0)},wi=function(e,t,n,i){var s;return An||hi(),t in qn&&"transform"!==t&&~(t=qn[t]).indexOf(",")&&(t=t.split(",")[0]),On[t]&&"transform"!==t?(s=Mi(e,i),s="transformOrigin"!==t?s[t]:s.svg?s.origin:Di(ai(e,ti))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||i||~(s+"").indexOf("calc("))&&(s=Ti[t]&&Ti[t](e,t,n)||ai(e,t)||pe(e,t)||("opacity"===t?1:0)),n&&!~(s+"").trim().indexOf(" ")?yi(e,t,s,n)+n:s},bi=function(e,t,n,i){if(!n||"none"===n){var s=ui(t,e,1),r=s&&ai(e,s,1);r&&r!==n?(t=s,n=r):"borderColor"===t&&(n=ai(e,"borderTopColor"))}var o,a,l,u,h,c,d,p,f,m,_,g=new dn(this._pt,e.style,t,0,1,on),v=0,y=0;if(g.b=n,g.e=i,n+="","auto"==(i+="")&&(c=e.style[t],e.style[t]=i,i=ai(e,t)||i,c?e.style[t]=c:mi(e,t)),Tt(o=[n,i]),i=o[1],l=(n=o[0]).match(U)||[],(i.match(U)||[]).length){for(;a=U.exec(i);)d=a[0],f=i.substring(v,a.index),h?h=(h+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(h=1),d!==(c=l[y++]||"")&&(u=parseFloat(c)||0,_=c.substr((u+"").length),"="===d.charAt(1)&&(d=ge(u,d)+_),p=parseFloat(d),m=d.substr((p+"").length),v=U.lastIndex-m.length,m||(m=m||w.units[t]||_,v===i.length&&(i+=m,g.e+=m)),_!==m&&(u=yi(e,t,c,m)||0),g._pt={_next:g._pt,p:f||1===y?f:",",s:u,c:p-u,m:h&&h<4||"zIndex"===t?Math.round:0});g.c=v<i.length?i.substring(v,i.length):""}else g.r="display"===t&&"none"===i?Gn:$n;return H.test(i)&&(g.e=0),this._pt=g,g},Ci={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ki=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,i,s,r=t.t,o=r.style,a=t.u,l=r._gsap;if("all"===a||!0===a)o.cssText="",i=1;else for(s=(a=a.split(",")).length;--s>-1;)n=a[s],On[n]&&(i=1,n="transformOrigin"===n?ti:ei),mi(r,n);i&&(mi(r,ei),l&&(l.svg&&r.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Mi(r,1),l.uncache=1,ii(o)))}},Ti={clearProps:function(e,t,n,i,s){if("isFromStart"!==s.data){var r=e._pt=new dn(e._pt,t,n,0,0,ki);return r.u=i,r.pr=-10,r.tween=s,e._props.push(n),1}}},Ei=[1,0,0,1,0,0],Si={},xi=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Ii=function(e){var t=ai(e,ei);return xi(t)?Ei:t.substr(7).match(q).map(me)},Ai=function(e,t){var n,i,s,r,o=e._gsap||de(e),a=e.style,l=Ii(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(s=e.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?Ei:l:(l!==Ei||e.offsetParent||e===In||o.svg||(s=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(r=1,i=e.nextElementSibling,In.appendChild(e)),l=Ii(e),s?a.display=s:mi(e,"display"),r&&(i?n.insertBefore(e,i):n?n.appendChild(e):In.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Pi=function(e,t,n,i,s,r){var o,a,l,u=e._gsap,h=s||Ai(e,!0),c=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,m=h[0],_=h[1],g=h[2],v=h[3],y=h[4],w=h[5],b=t.split(" "),C=parseFloat(b[0])||0,k=parseFloat(b[1])||0;n?h!==Ei&&(a=m*v-_*g)&&(l=C*(-_/a)+k*(m/a)-(m*w-_*y)/a,C=C*(v/a)+k*(-g/a)+(g*w-v*y)/a,k=l):(C=(o=pi(e)).x+(~b[0].indexOf("%")?C/100*o.width:C),k=o.y+(~(b[1]||b[0]).indexOf("%")?k/100*o.height:k)),i||!1!==i&&u.smooth?(y=C-c,w=k-d,u.xOffset=p+(y*m+w*g)-y,u.yOffset=f+(y*_+w*v)-w):u.xOffset=u.yOffset=0,u.xOrigin=C,u.yOrigin=k,u.smooth=!!i,u.origin=t,u.originIsAbsolute=!!n,e.style[ti]="0px 0px",r&&(_i(r,u,"xOrigin",c,C),_i(r,u,"yOrigin",d,k),_i(r,u,"xOffset",p,u.xOffset),_i(r,u,"yOffset",f,u.yOffset)),e.setAttribute("data-svg-origin",C+" "+k)},Mi=function(e,t){var n=e._gsap||new Bt(e);if("x"in n&&!t&&!n.uncache)return n;var i,s,r,o,a,l,u,h,c,d,p,f,m,_,g,v,y,b,C,k,T,E,S,x,I,A,P,M,D,F,O,R,L=e.style,N=n.scaleX<0,B="px",V="deg",z=getComputedStyle(e),q=ai(e,ti)||"0";return i=s=r=l=u=h=c=d=p=0,o=a=1,n.svg=!(!e.getCTM||!fi(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(L[ei]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[ei]?z[ei]:"")),L.scale=L.rotate=L.translate="none"),_=Ai(e,n.svg),n.svg&&(n.uncache?(I=e.getBBox(),q=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",x=""):x=!t&&e.getAttribute("data-svg-origin"),Pi(e,x||q,!!x||n.originIsAbsolute,!1!==n.smooth,_)),f=n.xOrigin||0,m=n.yOrigin||0,_!==Ei&&(b=_[0],C=_[1],k=_[2],T=_[3],i=E=_[4],s=S=_[5],6===_.length?(o=Math.sqrt(b*b+C*C),a=Math.sqrt(T*T+k*k),l=b||C?Nn(C,b)*Rn:0,(c=k||T?Nn(k,T)*Rn+l:0)&&(a*=Math.abs(Math.cos(c*Ln))),n.svg&&(i-=f-(f*b+m*k),s-=m-(f*C+m*T))):(R=_[6],F=_[7],P=_[8],M=_[9],D=_[10],O=_[11],i=_[12],s=_[13],r=_[14],u=(g=Nn(R,D))*Rn,g&&(x=E*(v=Math.cos(-g))+P*(y=Math.sin(-g)),I=S*v+M*y,A=R*v+D*y,P=E*-y+P*v,M=S*-y+M*v,D=R*-y+D*v,O=F*-y+O*v,E=x,S=I,R=A),h=(g=Nn(-k,D))*Rn,g&&(v=Math.cos(-g),O=T*(y=Math.sin(-g))+O*v,b=x=b*v-P*y,C=I=C*v-M*y,k=A=k*v-D*y),l=(g=Nn(C,b))*Rn,g&&(x=b*(v=Math.cos(g))+C*(y=Math.sin(g)),I=E*v+S*y,C=C*v-b*y,S=S*v-E*y,b=x,E=I),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,h=180-h),o=me(Math.sqrt(b*b+C*C+k*k)),a=me(Math.sqrt(S*S+R*R)),g=Nn(E,S),c=Math.abs(g)>2e-4?g*Rn:0,p=O?1/(O<0?-O:O):0),n.svg&&(x=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!xi(ai(e,ei)),x&&e.setAttribute("transform",x))),Math.abs(c)>90&&Math.abs(c)<270&&(N?(o*=-1,c+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),t=t||n.uncache,n.x=i-((n.xPercent=i&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-i)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+B,n.y=s-((n.yPercent=s&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-s)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+B,n.z=r+B,n.scaleX=me(o),n.scaleY=me(a),n.rotation=me(l)+V,n.rotationX=me(u)+V,n.rotationY=me(h)+V,n.skewX=c+V,n.skewY=d+V,n.transformPerspective=p+B,(n.zOrigin=parseFloat(q.split(" ")[2])||!t&&n.zOrigin||0)&&(L[ti]=Di(q)),n.xOffset=n.yOffset=0,n.force3D=w.force3D,n.renderTransform=n.svg?Vi:Fn?Bi:Oi,n.uncache=0,n},Di=function(e){return(e=e.split(" "))[0]+" "+e[1]},Fi=function(e,t,n){var i=Ze(t);return me(parseFloat(t)+parseFloat(yi(e,"x",n+"px",i)))+i},Oi=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Bi(e,t)},Ri="0deg",Li="0px",Ni=") ",Bi=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,r=n.x,o=n.y,a=n.z,l=n.rotation,u=n.rotationY,h=n.rotationX,c=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,_=n.force3D,g=n.target,v=n.zOrigin,y="",w="auto"===_&&e&&1!==e||!0===_;if(v&&(h!==Ri||u!==Ri)){var b,C=parseFloat(u)*Ln,k=Math.sin(C),T=Math.cos(C);C=parseFloat(h)*Ln,b=Math.cos(C),r=Fi(g,r,k*b*-v),o=Fi(g,o,-Math.sin(C)*-v),a=Fi(g,a,T*b*-v+v)}m!==Li&&(y+="perspective("+m+Ni),(i||s)&&(y+="translate("+i+"%, "+s+"%) "),(w||r!==Li||o!==Li||a!==Li)&&(y+=a!==Li||w?"translate3d("+r+", "+o+", "+a+") ":"translate("+r+", "+o+Ni),l!==Ri&&(y+="rotate("+l+Ni),u!==Ri&&(y+="rotateY("+u+Ni),h!==Ri&&(y+="rotateX("+h+Ni),c===Ri&&d===Ri||(y+="skew("+c+", "+d+Ni),1===p&&1===f||(y+="scale("+p+", "+f+Ni),g.style[ei]=y||"translate(0, 0)"},Vi=function(e,t){var n,i,s,r,o,a=t||this,l=a.xPercent,u=a.yPercent,h=a.x,c=a.y,d=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,_=a.scaleY,g=a.target,v=a.xOrigin,y=a.yOrigin,w=a.xOffset,b=a.yOffset,C=a.forceCSS,k=parseFloat(h),T=parseFloat(c);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=Ln,p*=Ln,n=Math.cos(d)*m,i=Math.sin(d)*m,s=Math.sin(d-p)*-_,r=Math.cos(d-p)*_,p&&(f*=Ln,o=Math.tan(p-f),s*=o=Math.sqrt(1+o*o),r*=o,f&&(o=Math.tan(f),n*=o=Math.sqrt(1+o*o),i*=o)),n=me(n),i=me(i),s=me(s),r=me(r)):(n=m,r=_,i=s=0),(k&&!~(h+"").indexOf("px")||T&&!~(c+"").indexOf("px"))&&(k=yi(g,"x",h,"px"),T=yi(g,"y",c,"px")),(v||y||w||b)&&(k=me(k+v-(v*n+y*s)+w),T=me(T+y-(v*i+y*r)+b)),(l||u)&&(o=g.getBBox(),k=me(k+l/100*o.width),T=me(T+u/100*o.height)),o="matrix("+n+","+i+","+s+","+r+","+k+","+T+")",g.setAttribute("transform",o),C&&(g.style[ei]=o)},zi=function(e,t,n,i,s){var r,o,a=360,l=P(s),u=parseFloat(s)*(l&&~s.indexOf("rad")?Rn:1)-i,h=i+u+"deg";return l&&("short"===(r=s.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-360),"cw"===r&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===r&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),e._pt=o=new dn(e._pt,t,n,i,u,jn),o.e=h,o.u="deg",e._props.push(n),o},qi=function(e,t){for(var n in t)e[n]=t[n];return e},Ui=function(e,t,n){var i,s,r,o,a,l,u,h=qi({},n._gsap),c=n.style;for(s in h.svg?(r=n.getAttribute("transform"),n.setAttribute("transform",""),c[ei]=t,i=Mi(n,1),mi(n,ei),n.setAttribute("transform",r)):(r=getComputedStyle(n)[ei],c[ei]=t,i=Mi(n,1),c[ei]=r),On)(r=h[s])!==(o=i[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(a=Ze(r)!==(u=Ze(o))?yi(n,s,r,u):parseFloat(r),l=parseFloat(o),e._pt=new dn(e._pt,i,s,a,l-a,Un),e._pt.u=u||0,e._props.push(s));qi(i,h)};fe("padding,margin,Width,Radius",(function(e,t){var n="Top",i="Right",s="Bottom",r="Left",o=(t<3?[n,i,s,r]:[n+r,n+i,s+i,s+r]).map((function(n){return t<2?e+n:"border"+n+e}));Ti[t>1?"border"+e:e]=function(e,t,n,i,s){var r,a;if(arguments.length<4)return r=o.map((function(t){return wi(e,t,n)})),5===(a=r.join(" ")).split(r[0]).length?r[0]:a;r=(i+"").split(" "),a={},o.forEach((function(e,t){return a[e]=r[t]=r[t]||r[(t-1)/2|0]})),e.init(t,a,s)}}));var ji,Hi,Wi={name:"css",register:hi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var r,o,a,l,u,h,c,d,p,f,m,_,g,v,y,b,C,k,T,E,S=this._props,x=e.style,I=n.vars.startAt;for(c in An||hi(),this.styles=this.styles||ri(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==c&&(o=t[c],!oe[c]||!Wt(c,t,n,i,e,s)))if(u=typeof o,h=Ti[c],"function"===u&&(u=typeof(o=o.call(n,i,e,s))),"string"===u&&~o.indexOf("random(")&&(o=ut(o)),h)h(this,e,c,o,n)&&(y=1);else if("--"===c.substr(0,2))r=(getComputedStyle(e).getPropertyValue(c)+"").trim(),o+="",Ct.lastIndex=0,Ct.test(r)||(d=Ze(r),p=Ze(o)),p?d!==p&&(r=yi(e,c,r,p)+p):d&&(o+=d),this.add(x,"setProperty",r,o,i,s,0,0,c),S.push(c),b.push(c,0,x[c]);else if("undefined"!==u){if(I&&c in I?(r="function"==typeof I[c]?I[c].call(n,i,e,s):I[c],P(r)&&~r.indexOf("random(")&&(r=ut(r)),Ze(r+"")||"auto"===r||(r+=w.units[c]||Ze(wi(e,c))||""),"="===(r+"").charAt(1)&&(r=wi(e,c))):r=wi(e,c),l=parseFloat(r),(f="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),c in qn&&("autoAlpha"===c&&(1===l&&"hidden"===wi(e,"visibility")&&a&&(l=0),b.push("visibility",0,x.visibility),_i(this,x,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==c&&"transform"!==c&&~(c=qn[c]).indexOf(",")&&(c=c.split(",")[0])),m=c in On)if(this.styles.save(c),_||((g=e._gsap).renderTransform&&!t.parseTransform||Mi(e,t.parseTransform),v=!1!==t.smoothOrigin&&g.smooth,(_=this._pt=new dn(this._pt,x,ei,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===c)this._pt=new dn(this._pt,g,"scaleY",g.scaleY,(f?ge(g.scaleY,f+a):a)-g.scaleY||0,Un),this._pt.u=0,S.push("scaleY",c),c+="X";else{if("transformOrigin"===c){b.push(ti,0,x[ti]),k=void 0,T=void 0,E=void 0,T=(k=(C=o).split(" "))[0],E=k[1]||"50%","top"!==T&&"bottom"!==T&&"left"!==E&&"right"!==E||(C=T,T=E,E=C),k[0]=Ci[T]||T,k[1]=Ci[E]||E,o=k.join(" "),g.svg?Pi(e,o,0,v,0,this):((p=parseFloat(o.split(" ")[2])||0)!==g.zOrigin&&_i(this,g,"zOrigin",g.zOrigin,p),_i(this,x,c,Di(r),Di(o)));continue}if("svgOrigin"===c){Pi(e,o,1,v,0,this);continue}if(c in Si){zi(this,g,c,l,f?ge(l,f+o):o);continue}if("smoothOrigin"===c){_i(this,g,"smooth",g.smooth,o);continue}if("force3D"===c){g[c]=o;continue}if("transform"===c){Ui(this,o,e);continue}}else c in x||(c=ui(c)||c);if(m||(a||0===a)&&(l||0===l)&&!zn.test(o)&&c in x)a||(a=0),(d=(r+"").substr((l+"").length))!==(p=Ze(o)||(c in w.units?w.units[c]:d))&&(l=yi(e,c,r,p)),this._pt=new dn(this._pt,m?g:x,c,l,(f?ge(l,f+a):a)-l,m||"px"!==p&&"zIndex"!==c||!1===t.autoRound?Un:Wn),this._pt.u=p||0,d!==p&&"%"!==p&&(this._pt.b=r,this._pt.r=Hn);else if(c in x)bi.call(this,e,c,r,f?f+o:o);else if(c in e)this.add(e,c,r||e[c],f?f+o:o,i,s);else if("parseTransform"!==c){X(c,o);continue}m||(c in x?b.push(c,0,x[c]):"function"==typeof e[c]?b.push(c,2,e[c]()):b.push(c,1,r||e[c])),S.push(c)}y&&cn(this)},render:function(e,t){if(t.tween._time||!Dn())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:wi,aliases:qn,getSetter:function(e,t,n){var i=qn[t];return i&&i.indexOf(",")<0&&(t=i),t in On&&t!==ti&&(e._gsap.x||wi(e,"x"))?n&&Mn===n?"scale"===t?Qn:Xn:(Mn=n||{})&&("scale"===t?Zn:Jn):e.style&&!F(e.style[t])?Yn:~t.indexOf("-")?Kn:nn(e,t)},core:{_removeProperty:mi,_getMatrix:Ai}};En.utils.checkPrefix=ui,En.core.getStyleSaver=ri,Hi=fe("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(ji="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){On[e]=1})),fe(ji,(function(e){w.units[e]="deg",Si[e]=1})),qn[Hi[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ji,fe("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");qn[t[1]]=Hi[t[0]]})),fe("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){w.units[e]="px"})),En.registerPlugin(Wi);var $i=En.registerPlugin(Wi)||En;function Gi(){const e=document.querySelector(".burger"),t=document.querySelector(".header__list");if(!Gi||!t)return;const n=t.querySelectorAll(".header__list-item"),i=t.querySelectorAll(".header__list-link"),s=t=>{e.classList.toggle("active",t),document.body.style.overflow=t?"hidden":"visible"};$i.matchMedia().add("(max-width: 1024px)",(()=>{const r=$i.timeline({paused:!0,onStart:()=>s(!0),onReverseComplete:()=>s(!1)});r.to(t,{x:"0",duration:.5,ease:"expo"}).fromTo(n,{x:"-100%"},{x:0,duration:.5,ease:"expo",stagger:.3});const o=()=>{e.classList.contains("active")?r.reverse():r.play()},a=e=>{e.preventDefault();let t=e.target.href;r.reverse(),setTimeout((()=>{window.location.href=t}),1e3)};return e.addEventListener("click",o),i.forEach((e=>e.addEventListener("click",a))),()=>{e.removeEventListener("click",o),i.forEach((e=>e.removeEventListener("click",a)))}}))}function Yi(e){return"string"==typeof e||e instanceof String}function Ki(e){var t;return"object"==typeof e&&null!=e&&"Object"===(null==e||null==(t=e.constructor)?void 0:t.name)}function Xi(e,t){return Array.isArray(t)?Xi(e,((e,n)=>t.includes(n))):Object.entries(e).reduce(((e,n)=>{let[i,s]=n;return t(s,i)&&(e[i]=s),e}),{})}$i.core.Tween;const Qi="NONE",Zi="LEFT",Ji="FORCE_LEFT",es="RIGHT",ts="FORCE_RIGHT";function ns(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function is(e,t){if(t===e)return!0;const n=Array.isArray(t),i=Array.isArray(e);let s;if(n&&i){if(t.length!=e.length)return!1;for(s=0;s<t.length;s++)if(!is(t[s],e[s]))return!1;return!0}if(n!=i)return!1;if(t&&e&&"object"==typeof t&&"object"==typeof e){const n=t instanceof Date,i=e instanceof Date;if(n&&i)return t.getTime()==e.getTime();if(n!=i)return!1;const r=t instanceof RegExp,o=e instanceof RegExp;if(r&&o)return t.toString()==e.toString();if(r!=o)return!1;const a=Object.keys(t);for(s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(e,a[s]))return!1;for(s=0;s<a.length;s++)if(!is(e[a[s]],t[a[s]]))return!1;return!0}return!(!t||!e||"function"!=typeof t||"function"!=typeof e)&&t.toString()===e.toString()}class ss{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Qi:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?Zi:es}}function rs(e,t){return new rs.InputMask(e,t)}function os(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?rs.MaskedRegExp:Yi(e)?rs.MaskedPattern:e===Date?rs.MaskedDate:e===Number?rs.MaskedNumber:Array.isArray(e)||e===Array?rs.MaskedDynamic:rs.Masked&&e.prototype instanceof rs.Masked?e:rs.Masked&&e instanceof rs.Masked?e.constructor:e instanceof Function?rs.MaskedFunction:(console.warn("Mask not found for mask",e),rs.Masked)}function as(e){if(!e)throw new Error("Options in not defined");if(rs.Masked){if(e.prototype instanceof rs.Masked)return{mask:e};const{mask:t,...n}=e instanceof rs.Masked?{mask:e}:Ki(e)&&e.mask instanceof rs.Masked?e:{};if(t){const e=t.mask;return{...Xi(t,((e,t)=>!t.startsWith("_"))),mask:t.constructor,_mask:e,...n}}}return Ki(e)?{...e}:{mask:e}}function ls(e){if(rs.Masked&&e instanceof rs.Masked)return e;const t=as(e),n=os(t.mask);if(!n)throw new Error("Masked class is not found for provided mask "+t.mask+", appropriate module needs to be imported manually before creating mask.");return t.mask===n&&delete t.mask,t._mask&&(t.mask=t._mask,delete t._mask),new n(t)}rs.createMask=ls;class us{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return null!=e?e:this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return null!=e?e:this.value.length}select(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}rs.MaskElement=us;class hs extends us{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,n;return null!=(e=null==(t=(n=this.input).getRootNode)?void 0:t.call(n))?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){return this._handlers.redo&&(90===e.keyCode&&e.shiftKey&&(e.metaKey||e.ctrlKey)||89===e.keyCode&&e.ctrlKey)?(e.preventDefault(),this._handlers.redo(e)):this._handlers.undo&&90===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),this._handlers.undo(e)):void(e.isComposing||this._handlers.selectionChange(e))}_onBeforeinput(e){return"historyUndo"===e.inputType&&this._handlers.undo?(e.preventDefault(),this._handlers.undo(e)):"historyRedo"===e.inputType&&this._handlers.redo?(e.preventDefault(),this._handlers.redo(e)):void 0}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}rs.HTMLMaskElement=hs;class cs extends hs{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}rs.HTMLMaskElement=hs;class ds extends hs{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return null==i||null==n||n<i?n:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return null==i||null==n||n>i?n:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,e),n.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,s=i.getSelection&&i.getSelection();s&&(s.removeAllRanges(),s.addRange(n))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}rs.HTMLContenteditableMaskElement=ds;class ps{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return 0===this.states.length}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>ps.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}ps.MAX_LENGTH=100,rs.InputMask=class{constructor(e,t){this.el=e instanceof us?e:e.isContentEditable&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName?new ds(e):new cs(e),this.masked=ls(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new ps,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return null==e||(null==(t=this.masked)?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof rs.Masked)&&this.masked.constructor===os(e))return void this.masked.updateOptions({mask:e});const t=e instanceof rs.Masked?e:ls({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const n=this._listeners[e];n&&n.forEach((e=>e(t)))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){this.el&&this.el.isActive&&(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,n=this.masked.value,i=this.masked.rawInputValue,s=this.displayValue,r=this.unmaskedValue!==t||this.value!==n||this._rawInputValue!==i;this._unmaskedValue=t,this._value=n,this._rawInputValue=i,this.el.value!==s&&(this.el.value=s),"auto"===e?this.alignCursor():null!=e&&(this.cursorPos=e),r&&this._fireChangeEvents(),this._historyChanging||!r&&!this.history.isEmpty||this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...n}=e,i=!this.maskEquals(t),s=this.masked.optionsIsChanged(n);i&&(this.mask=t),s&&this.masked.updateOptions(n),(i||s)&&this.updateControl()}updateCursor(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout((()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())}),10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Zi))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const n=this._listeners[e].indexOf(t);return n>=0&&this._listeners[e].splice(n,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new ss({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),n=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,s=n===this.masked.rawInputValue?t.removeDirection:Qi;let r=this.masked.nearestInputPos(t.startChangePos+i,s);s!==Qi&&(r=this.masked.nearestInputPos(r,Qi)),this.updateControl(r),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};class fs{static normalize(e){return Array.isArray(e)?e:[e,new fs]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return Boolean(this.rawInserted)||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}rs.ChangeDetails=fs;class ms{constructor(e,t,n){void 0===e&&(e=""),void 0===t&&(t=0),this.value=e,this.from=t,this.stop=n}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||null!=e&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class _s{constructor(e){this._value="",this._update({..._s.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){void 0===t&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new ms(this.extractInput(e,t),e)}appendTail(e){return Yi(e)&&(e=new ms(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new fs({inserted:e,rawInserted:e})):new fs}_appendChar(e,t,n){void 0===t&&(t={});const i=this.state;let s;if([e,s]=this.doPrepareChar(e,t),e&&(s=s.aggregate(this._appendCharRaw(e,t)),!s.rawInserted&&"pad"===this.autofix)){const n=this.state;this.state=i;let r=this.pad(t);const o=this._appendCharRaw(e,t);r=r.aggregate(o),o.rawInserted||r.equals(s)?s=r:this.state=n}if(s.inserted){let e,r=!1!==this.doValidate(t);if(r&&null!=n){const t=this.state;if(!0===this.overwrite){e=n.state;for(let e=0;e<s.rawInserted.length;++e)n.unshift(this.displayValue.length-s.tailShift)}let i=this.appendTail(n);if(r=i.rawInserted.length===n.toString().length,!(r&&i.inserted||"shift"!==this.overwrite)){this.state=t,e=n.state;for(let e=0;e<s.rawInserted.length;++e)n.shift();i=this.appendTail(n),r=i.rawInserted.length===n.toString().length}r&&i.inserted&&(this.state=t)}r||(s=new fs,this.state=i,n&&e&&(n.state=e))}return s}_appendPlaceholder(){return new fs}_appendEager(){return new fs}append(e,t,n){if(!Yi(e))throw new Error("value should be string");const i=Yi(n)?new ms(String(n)):n;let s;null!=t&&t.tail&&(t._beforeTailState=this.state),[e,s]=this.doPrepare(e,t);for(let n=0;n<e.length;++n){const r=this._appendChar(e[n],t,i);if(!r.rawInserted&&!this.doSkipInvalid(e[n],t,i))break;s.aggregate(r)}return(!0===this.eager||"append"===this.eager)&&null!=t&&t.input&&e&&s.aggregate(this._appendEager()),null!=i&&(s.tailShift+=this.appendTail(i).tailShift),s}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new fs}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,n=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==n&&0===n.indexOf(this.value)&&(this.append(n.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,n=e(this);return this.state=t,delete this._isolated,n}doSkipInvalid(e,t,n){return Boolean(this.skipInvalid)}doPrepare(e,t){return void 0===t&&(t={}),fs.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return void 0===t&&(t={}),fs.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,n,i,s){void 0===n&&(n=""),void 0===i&&(i=Qi),void 0===s&&(s={input:!0});const r=e+t,o=this.extractTail(r),a=!0===this.eager||"remove"===this.eager;let l;a&&(i=function(e){switch(e){case Zi:return Ji;case es:return ts;default:return e}}(i),l=this.extractInput(0,r,{raw:!0}));let u=e;const h=new fs;if(i!==Qi&&(u=this.nearestInputPos(e,t>1&&0!==e&&!a?Qi:i),h.tailShift=u-e),h.aggregate(this.remove(u)),a&&i!==Qi&&l===this.rawInputValue)if(i===Ji){let e;for(;l===this.rawInputValue&&(e=this.displayValue.length);)h.aggregate(new fs({tailShift:-1})).aggregate(this.remove(e-1))}else i===ts&&o.unshift();return h.aggregate(this.append(n,s,o))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!is(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||_s.EMPTY_VALUES.includes(e)&&_s.EMPTY_VALUES.includes(t)||!!this.format&&this.format(e,this)===this.format(this.typedValue,this)}pad(e){return new fs}}_s.DEFAULTS={skipInvalid:!0},_s.EMPTY_VALUES=[void 0,null,""],rs.Masked=_s;class gs{constructor(e,t){void 0===e&&(e=[]),void 0===t&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Yi(e)?new ms(String(e)):e;const t=this.chunks[this.chunks.length-1],n=t&&(t.stop===e.stop||null==e.stop)&&e.from===t.from+t.toString().length;if(e instanceof ms)n?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof gs){if(null==e.stop){let t;for(;e.chunks.length&&null==e.chunks[0].stop;)t=e.chunks.shift(),t.from+=e.from,this.extend(t)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof rs.MaskedPattern))return new ms(this.toString()).appendTo(e);const t=new fs;for(let n=0;n<this.chunks.length;++n){const i=this.chunks[n],s=e._mapPosToBlock(e.displayValue.length),r=i.stop;let o;if(null!=r&&(!s||s.index<=r)&&((i instanceof gs||e._stops.indexOf(r)>=0)&&t.aggregate(e._appendPlaceholder(r)),o=i instanceof gs&&e._blocks[r]),o){const n=o.appendTail(i);t.aggregate(n);const s=i.toString().slice(n.rawInserted.length);s&&t.aggregate(e.append(s,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map((e=>e.state)),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...n}=e;Object.assign(this,n),this.chunks=t.map((e=>{const t="chunks"in e?new gs:new ms;return t.state=e,t}))}unshift(e){if(!this.chunks.length||null!=e&&this.from>=e)return"";const t=null!=e?e-this.from:e;let n=0;for(;n<this.chunks.length;){const e=this.chunks[n],i=e.unshift(t);if(e.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],n=t.shift();if(t.toString()){if(!n)break;--e}else this.chunks.splice(e,1);if(n)return n}return""}}class vs{constructor(e,t){this.masked=e,this._log=[];const{offset:n,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=n,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(t=this.block)?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,Ji),0!==this.offset||void 0}))}pushLeftBeforeInput(){return this._pushLeft((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Zi),!0}))}pushLeftBeforeRequired(){return this._pushLeft((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Zi),!0}))}pushRightBeforeFilled(){return this._pushRight((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,ts),this.offset!==this.block.value.length||void 0}))}pushRightBeforeInput(){return this._pushRight((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Qi),!0}))}pushRightBeforeRequired(){return this._pushRight((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Qi),!0}))}}class ys{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new fs}nearestInputPos(e,t){void 0===t&&(t=Qi);const n=this._value.length;switch(t){case Zi:case Ji:return 0;default:return n}}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),void 0===n&&(n={}),n.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(e,t){if(void 0===t&&(t={}),this.isFilled)return new fs;const n=!0===this.eager||"append"===this.eager,i=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!n)&&!t.tail,s=new fs({inserted:this.char,rawInserted:i?this.char:""});return this._value=this.char,this._isRawInput=i&&(t.raw||t.input),s}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new fs;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new ms("")}appendTail(e){return Yi(e)&&(e=new ms(String(e))),e.appendTo(this)}append(e,t,n){const i=this._appendChar(e[0],t);return null!=n&&(i.tailShift+=this.appendTail(n).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=Boolean(e._rawInputValue)}pad(e){return this._appendPlaceholder()}}class ws{constructor(e){const{parent:t,isOptional:n,placeholderChar:i,displayChar:s,lazy:r,eager:o,...a}=e;this.masked=ls(a),Object.assign(this,{parent:t,isOptional:n,placeholderChar:i,displayChar:s,lazy:r,eager:o})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),0===e&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new fs}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(e,t){if(void 0===t&&(t={}),this.isFilled)return new fs;const n=this.masked.state;let i=this.masked._appendChar(e,this.currentMaskFlags(t));return i.inserted&&!1===this.doValidate(t)&&(i=new fs,this.masked.state=n),i.inserted||this.isOptional||this.lazy||t.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=Boolean(i.inserted),i}append(e,t,n){return this.masked.append(e,this.currentMaskFlags(t),n)}_appendPlaceholder(){return this.isFilled||this.isOptional?new fs:(this.isFilled=!0,new fs({inserted:this.placeholderChar}))}_appendEager(){return new fs}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.masked.extractInput(e,t,n)}nearestInputPos(e,t){void 0===t&&(t=Qi);const n=this.value.length,i=Math.min(Math.max(e,0),n);switch(t){case Zi:case Ji:return this.isComplete?i:0;case es:case ts:return this.isComplete?i:n;default:return i}}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(null==e||null==(t=e._beforeTailState)?void 0:t.masked)||(null==e?void 0:e._beforeTailState)}}pad(e){return new fs}}ws.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},rs.MaskedRegExp=class extends _s{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=e=>e.search(t)>=0),super._update(e)}};class bs extends _s{constructor(e){super({...bs.DEFAULTS,...e,definitions:Object.assign({},ws.DEFAULT_DEFINITIONS,null==e?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let n=!1,i=!1;for(let s=0;s<t.length;++s){if(this.blocks){const e=t.slice(s),n=Object.keys(this.blocks).filter((t=>0===e.indexOf(t)));n.sort(((e,t)=>t.length-e.length));const i=n[0];if(i){const{expose:e,repeat:t,...n}=as(this.blocks[i]),r={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...n,repeat:t,parent:this},o=null!=t?new rs.RepeatBlock(r):ls(r);o&&(this._blocks.push(o),e&&(this.exposeBlock=o),this._maskedBlocks[i]||(this._maskedBlocks[i]=[]),this._maskedBlocks[i].push(this._blocks.length-1)),s+=i.length-1;continue}}let r=t[s],o=r in e;if(r===bs.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===r||"}"===r){n=!n;continue}if("["===r||"]"===r){i=!i;continue}if(r===bs.ESCAPE_CHAR){if(++s,r=t[s],!r)break;o=!1}const a=o?new ws({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...as(e[r]),parent:this}):new ys({char:r,eager:this.eager,isUnmasking:n});this._blocks.push(a)}}get state(){return{...super.state,_blocks:this._blocks.map((e=>e.state))}}set state(e){if(!e)return void this.reset();const{_blocks:t,...n}=e;this._blocks.forEach(((e,n)=>e.state=t[n])),super.state=n}reset(){super.reset(),this._blocks.forEach((e=>e.reset()))}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every((e=>e.isComplete))}get isFilled(){return this._blocks.every((e=>e.isFilled))}get isFixed(){return this._blocks.every((e=>e.isFixed))}get isOptional(){return this._blocks.every((e=>e.isOptional))}doCommit(){this._blocks.forEach((e=>e.doCommit())),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce(((e,t)=>e+t.unmaskedValue),"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce(((e,t)=>e+t.value),"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce(((e,t)=>e+t.displayValue),"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new fs;let n=null==(e=this._mapPosToBlock(this.displayValue.length))?void 0:e.index;if(null==n)return t;this._blocks[n].isFilled&&++n;for(let e=n;e<this._blocks.length;++e){const n=this._blocks[e]._appendEager();if(!n.inserted)break;t.aggregate(n)}return t}_appendCharRaw(e,t){void 0===t&&(t={});const n=this._mapPosToBlock(this.displayValue.length),i=new fs;if(!n)return i;for(let r,o=n.index;r=this._blocks[o];++o){var s;const n=r._appendChar(e,{...t,_beforeTailState:null==(s=t._beforeTailState)||null==(s=s._blocks)?void 0:s[o]});if(i.aggregate(n),n.consumed)break}return i}extractTail(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const n=new gs;return e===t||this._forEachBlocksInRange(e,t,((e,t,i,s)=>{const r=e.extractTail(i,s);r.stop=this._findStopBefore(t),r.from=this._blockStartPos(t),r instanceof gs&&(r.blockIndex=t),n.extend(r)})),n}extractInput(e,t,n){if(void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),void 0===n&&(n={}),e===t)return"";let i="";return this._forEachBlocksInRange(e,t,((e,t,s,r)=>{i+=e.extractInput(s,r,n)})),i}_findStopBefore(e){let t;for(let n=0;n<this._stops.length;++n){const i=this._stops[n];if(!(i<=e))break;t=i}return t}_appendPlaceholder(e){const t=new fs;if(this.lazy&&null==e)return t;const n=this._mapPosToBlock(this.displayValue.length);if(!n)return t;const i=n.index,s=null!=e?e:this._blocks.length;return this._blocks.slice(i,s).forEach((n=>{var i;n.lazy&&null==e||t.aggregate(n._appendPlaceholder(null==(i=n._blocks)?void 0:i.length))})),t}_mapPosToBlock(e){let t="";for(let n=0;n<this._blocks.length;++n){const i=this._blocks[n],s=t.length;if(t+=i.displayValue,e<=t.length)return{index:n,offset:e-s}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce(((e,t)=>e+t.displayValue.length),0)}_forEachBlocksInRange(e,t,n){void 0===t&&(t=this.displayValue.length);const i=this._mapPosToBlock(e);if(i){const e=this._mapPosToBlock(t),s=e&&i.index===e.index,r=i.offset,o=e&&s?e.offset:this._blocks[i.index].displayValue.length;if(n(this._blocks[i.index],i.index,r,o),e&&!s){for(let t=i.index+1;t<e.index;++t)n(this._blocks[t],t,0,this._blocks[t].displayValue.length);n(this._blocks[e.index],e.index,0,e.offset)}}}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const n=super.remove(e,t);return this._forEachBlocksInRange(e,t,((e,t,i,s)=>{n.aggregate(e.remove(i,s))})),n}nearestInputPos(e,t){if(void 0===t&&(t=Qi),!this._blocks.length)return 0;const n=new vs(this,e);if(t===Qi)return n.pushRightBeforeInput()?n.pos:(n.popState(),n.pushLeftBeforeInput()?n.pos:this.displayValue.length);if(t===Zi||t===Ji){if(t===Zi){if(n.pushRightBeforeFilled(),n.ok&&n.pos===e)return e;n.popState()}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),t===Zi){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=e)return n.pos;if(n.popState(),n.ok&&n.pos<=e)return n.pos;n.popState()}return n.ok?n.pos:t===Ji?0:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:0))}return t===es||t===ts?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:t===ts?this.displayValue.length:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:this.nearestInputPos(e,Zi)))):e}totalInputPositions(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);let n=0;return this._forEachBlocksInRange(e,t,((e,t,i,s)=>{n+=e.totalInputPositions(i,s)})),n}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map((e=>this._blocks[e])):[]}pad(e){const t=new fs;return this._forEachBlocksInRange(0,this.displayValue.length,(n=>t.aggregate(n.pad(e)))),t}}bs.DEFAULTS={..._s.DEFAULTS,lazy:!0,placeholderChar:"_"},bs.STOP_CHAR="`",bs.ESCAPE_CHAR="\\",bs.InputDefinition=ws,bs.FixedDefinition=ys,rs.MaskedPattern=bs;class Cs extends bs{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:n=this.from||0,maxLength:i=this.maxLength||0,autofix:s=this.autofix,...r}=e;this.to=t,this.from=n,this.maxLength=Math.max(String(t).length,i),this.autofix=s;const o=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0");let l=0;for(;l<a.length&&a[l]===o[l];)++l;r.mask=a.slice(0,l).replace(/0/g,"\\0")+"0".repeat(this.maxLength-l),super._update(r)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(e){let t="",n="";const[,i,s]=e.match(/^(\D*)(\d*)(\D*)/)||[];return s&&(t="0".repeat(i.length)+s,n="9".repeat(i.length)+s),t=t.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9"),[t,n]}doPrepareChar(e,t){let n;return void 0===t&&(t={}),[e,n]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(n.skip=!this.isComplete),[e,n]}_appendCharRaw(e,t){if(void 0===t&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const n=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[s,r]=this.boundaries(this.value+e);return Number(r)<this.from?super._appendCharRaw(n[this.value.length],t):Number(s)>this.to?!t.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?super._appendCharRaw(n[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(i[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(-1===t.search(/[^0]/)&&t.length<=this._matchFrom)return!0;const[n,i]=this.boundaries(t);return this.from<=Number(i)&&Number(n)<=this.to&&super.doValidate(e)}pad(e){const t=new fs;if(this.value.length===this.maxLength)return t;const n=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let n=0;n<i;++n)t.aggregate(super._appendCharRaw("0",e));n.split("").forEach((e=>this._appendCharRaw(e)))}return t}}rs.MaskedRange=Cs;class ks extends bs{static extractPatternOptions(e){const{mask:t,pattern:n,...i}=e;return{...i,mask:Yi(t)?t:n}}constructor(e){super(ks.extractPatternOptions({...ks.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:n,blocks:i,...s}={...ks.DEFAULTS,...e},r=Object.assign({},ks.GET_DEFAULT_BLOCKS());e.min&&(r.Y.from=e.min.getFullYear()),e.max&&(r.Y.to=e.max.getFullYear()),e.min&&e.max&&r.Y.from===r.Y.to&&(r.m.from=e.min.getMonth()+1,r.m.to=e.max.getMonth()+1,r.m.from===r.m.to&&(r.d.from=e.min.getDate(),r.d.to=e.max.getDate())),Object.assign(r,this.blocks,i),super._update({...s,mask:Yi(t)?t:n,blocks:r})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&null!=t&&(null==this.min||this.min<=t)&&(null==this.max||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(ks.extractPatternOptions(e))}}ks.GET_DEFAULT_BLOCKS=()=>({d:{mask:Cs,from:1,to:31,maxLength:2},m:{mask:Cs,from:1,to:12,maxLength:2},Y:{mask:Cs,from:1900,to:9999}}),ks.DEFAULTS={...bs.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(e,t)=>e?[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join("."):"",parse:(e,t)=>{const[n,i,s]=e.split(".").map(Number);return new Date(s,i-1,n)}},rs.MaskedDate=ks;class Ts extends _s{constructor(e){super({...Ts.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map((e=>{const{expose:t,...n}=as(e),i=ls({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...n});return t&&(this.exposeMask=i),i})):[])}_appendCharRaw(e,t){void 0===t&&(t={});const n=this._applyDispatch(e,t);return this.currentMask&&n.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),n}_applyDispatch(e,t,n){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n="");const i=t.tail&&null!=t._beforeTailState?t._beforeTailState._value:this.value,s=this.rawInputValue,r=t.tail&&null!=t._beforeTailState?t._beforeTailState._rawInputValue:s,o=s.slice(r.length),a=this.currentMask,l=new fs,u=null==a?void 0:a.state;return this.currentMask=this.doDispatch(e,{...t},n),this.currentMask&&(this.currentMask!==a?(this.currentMask.reset(),r&&(this.currentMask.append(r,{raw:!0}),l.tailShift=this.currentMask.value.length-i.length),o&&(l.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)):u&&(this.currentMask.state=u)),l}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new fs;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,n;return{...e,_beforeTailState:(null==(t=e._beforeTailState)?void 0:t.currentMaskRef)===this.currentMask&&(null==(n=e._beforeTailState)?void 0:n.currentMask)||e._beforeTailState}}doDispatch(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=""),this.dispatch(e,this,t,n)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){void 0===t&&(t={});let[n,i]=super.doPrepare(e,t);if(this.currentMask){let e;[n,e]=super.doPrepare(n,this.currentMaskFlags(t)),i=i.aggregate(e)}return[n,i]}doPrepareChar(e,t){void 0===t&&(t={});let[n,i]=super.doPrepareChar(e,t);if(this.currentMask){let e;[n,e]=super.doPrepareChar(n,this.currentMaskFlags(t)),i=i.aggregate(e)}return[n,i]}reset(){var e;null==(e=this.currentMask)||e.reset(),this.compiledMasks.forEach((e=>e.reset()))}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask)return this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,void this._applyDispatch();let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isComplete)}get isFilled(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isFilled)}remove(e,t){const n=new fs;return this.currentMask&&n.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),n}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((e=>e.state)),currentMaskRef:this.currentMask,currentMask:null==(e=this.currentMask)?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:n,currentMask:i,...s}=e;t&&this.compiledMasks.forEach(((e,n)=>e.state=t[n])),null!=n&&(this.currentMask=n,this.currentMask.state=i),super.state=s}extractInput(e,t,n){return this.currentMask?this.currentMask.extractInput(e,t,n):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every(((t,n)=>{if(!e[n])return;const{mask:i,...s}=e[n];return is(t,s)&&t.maskEquals(i)})):super.maskEquals(e)}typedValueEquals(e){var t;return Boolean(null==(t=this.currentMask)?void 0:t.typedValueEquals(e))}}Ts.DEFAULTS={..._s.DEFAULTS,dispatch:(e,t,n,i)=>{if(!t.compiledMasks.length)return;const s=t.rawInputValue,r=t.compiledMasks.map(((r,o)=>{const a=t.currentMask===r,l=a?r.displayValue.length:r.nearestInputPos(r.displayValue.length,Ji);return r.rawInputValue!==s?(r.reset(),r.append(s,{raw:!0})):a||r.remove(l),r.append(e,t.currentMaskFlags(n)),r.appendTail(i),{index:o,weight:r.rawInputValue.length,totalInputPositions:r.totalInputPositions(0,Math.max(l,r.nearestInputPos(r.displayValue.length,Ji)))}}));return r.sort(((e,t)=>t.weight-e.weight||t.totalInputPositions-e.totalInputPositions)),t.compiledMasks[r[0].index]}},rs.MaskedDynamic=Ts;class Es extends bs{constructor(e){super({...Es.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...n}=e;if(t){const e=t.map((e=>e.length)),i=Math.min(...e),s=Math.max(...e)-i;n.mask="*".repeat(i),s&&(n.mask+="["+"*".repeat(s)+"]"),this.enum=t}super._update(n)}_appendCharRaw(e,t){void 0===t&&(t={});const n=Math.min(this.nearestInputPos(0,ts),this.value.length),i=this.enum.filter((t=>this.matchValue(t,this.unmaskedValue+e,n)));if(i.length){1===i.length&&this._forEachBlocksInRange(0,this.value.length,((e,n)=>{const s=i[0][n];n>=this.value.length||s===e.value||(e.reset(),e._appendChar(s,t))}));const e=super._appendCharRaw(i[0][this.value.length],t);return 1===i.length&&i[0].slice(this.unmaskedValue.length).split("").forEach((t=>e.aggregate(super._appendCharRaw(t)))),e}return new fs({skip:!this.isComplete})}extractTail(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new ms("",e)}remove(e,t){if(void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),e===t)return new fs;const n=Math.min(super.nearestInputPos(0,ts),this.value.length);let i;for(i=e;i>=0&&!(this.enum.filter((e=>this.matchValue(e,this.value.slice(n,i),n))).length>1);--i);const s=super.remove(i,t);return s.tailShift+=i-e,s}get isComplete(){return this.enum.indexOf(this.value)>=0}}var Ss;Es.DEFAULTS={...bs.DEFAULTS,matchValue:(e,t,n)=>e.indexOf(t,n)===n},rs.MaskedEnum=Es,rs.MaskedFunction=class extends _s{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}};class xs extends _s{constructor(e){super({...xs.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t=(this.scale?"("+ns(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+"\\d*"+t),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(ns).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(ns(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){void 0===t&&(t={});const[n,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!n&&(i.skip=!0),!n||this.allowPositive||this.value||"-"===n||i.aggregate(this._appendChar("-")),[n,i]}_separatorsCount(e,t){void 0===t&&(t=!1);let n=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++n,t&&(e+=this.thousandsSeparator.length));return n}_separatorsCountFromSlice(e){return void 0===e&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,n))}_appendCharRaw(e,t){void 0===t&&(t={});const n=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);const s=this._value;this._value+=e;const r=this.number;let o,a=!isNaN(r),l=!1;if(a){let e;null!=this.min&&this.min<0&&this.number<this.min&&(e=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(e=this.max),null!=e&&(this.autofix?(this._value=this.format(e,this).replace(xs.UNMASKED_RADIX,this.radix),l||(l=s===this._value&&!t.tail)):a=!1),a&&(a=Boolean(this._value.match(this._numberRegExp)))}a?o=new fs({inserted:this._value.slice(s.length),rawInserted:l?"":e,skip:l}):(this._value=s,o=new fs),this._value=this._insertThousandsSeparators(this._value);const u=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(u);return o.tailShift+=(h-i)*this.thousandsSeparator.length,o}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,t);if(n<=e)return n}return-1}_adjustRangeWithSeparators(e,t){const n=this._findSeparatorAround(e);n>=0&&(e=n);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const n=this.value.slice(0,e),i=this.value.slice(t),s=this._separatorsCount(n.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+i));const r=this._separatorsCountFromSlice(n);return new fs({tailShift:(r-s)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case Qi:case Zi:case Ji:{const n=this._findSeparatorAround(e-1);if(n>=0){const i=n+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===Ji)return n}break}case es:case ts:{const t=this._findSeparatorAround(e);if(t>=0)return t+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;null!=this.min&&(t=Math.max(t,this.min)),null!=this.max&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&this.scale>0&&(n=this._padFractionalZeros(n)),this._value=n}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,((e,t,n,i)=>t+i)),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,n){void 0===t&&(t={});const i=0===this.scale&&e!==this.thousandsSeparator&&(e===this.radix||e===xs.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,n)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,xs.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(xs.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}get allowPositive(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||xs.EMPTY_VALUES.includes(e)&&xs.EMPTY_VALUES.includes(this.typedValue))&&!(0===e&&""===this.value)}}Ss=xs,xs.UNMASKED_RADIX=".",xs.EMPTY_VALUES=[..._s.EMPTY_VALUES,0],xs.DEFAULTS={..._s.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[Ss.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:e=>e.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},rs.MaskedNumber=xs;const Is={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function As(e,t,n){void 0===t&&(t=Is.MASKED),void 0===n&&(n=Is.MASKED);const i=ls(e);return e=>i.runIsolated((i=>(i[t]=e,i[n])))}rs.PIPE_TYPE=Is,rs.createPipe=As,rs.pipe=function(e,t,n,i){return As(t,n,i)(e)},rs.RepeatBlock=class extends bs{get repeatFrom(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?e:0}get repeatTo(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,n,i;const{repeat:s,...r}=as(e);this._blockOpts=Object.assign({},this._blockOpts,r);const o=ls(this._blockOpts);this.repeat=null!=(t=null!=(n=null!=s?s:o.repeat)?n:this.repeat)?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(i=this._blocks)?void 0:i.length)||0,this.repeatFrom)),blocks:{m:o},eager:o.eager,overwrite:o.overwrite,skipInvalid:o.skipInvalid,lazy:o.lazy,placeholderChar:o.placeholderChar,displayChar:o.displayChar})}_allocateBlock(e){return e<this._blocks.length?this._blocks[e]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(ls(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}_appendCharRaw(e,t){void 0===t&&(t={});const n=new fs;for(let a,l,u=null!=(i=null==(s=this._mapPosToBlock(this.displayValue.length))?void 0:s.index)?i:Math.max(this._blocks.length-1,0);a=null!=(r=this._blocks[u])?r:l=!l&&this._allocateBlock(u);++u){var i,s,r,o;const h=a._appendChar(e,{...t,_beforeTailState:null==(o=t._beforeTailState)||null==(o=o._blocks)?void 0:o[u]});if(h.skip&&l){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(n.aggregate(h),h.consumed)break}return n}_trimEmptyTail(e,t){var n,i;void 0===e&&(e=0);const s=Math.max((null==(n=this._mapPosToBlock(e))?void 0:n.index)||0,this.repeatFrom,0);let r;null!=t&&(r=null==(i=this._mapPosToBlock(t))?void 0:i.index),null==r&&(r=this._blocks.length-1);let o=0;for(let e=r;s<=e&&!this._blocks[e].unmaskedValue;--e,++o);o&&(this._blocks.splice(r-o+1,o),this.mask=this.mask.slice(o))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const n=super.remove(e,t);return this._trimEmptyTail(e,t),n}totalInputPositions(e,t){return void 0===e&&(e=0),null==t&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}};try{globalThis.IMask=rs}catch{}const Ps=function(e,t){if(!e)throw Ms(t)},Ms=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Ds=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Fs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const s=e[t],r=t+1<e.length,o=r?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=s>>2,h=(3&s)<<4|o>>4;let c=(15&o)<<2|l>>6,d=63&l;a||(d=64,r||(c=64)),i.push(n[u],n[h],n[c],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ds(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],r=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==r||null==o||null==a)throw new Os;const l=s<<2|r>>4;if(i.push(l),64!==o){const e=r<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Os extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rs=function(e){const t=Ds(e);return Fs.encodeByteArray(t,!0)},Ls=function(e){return Rs(e).replace(/\./g,"")},Ns=function(e){try{return Fs.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bs(e){return Vs(void 0,e)}function Vs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Vs(e[n],t[n]));return e}const zs=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Ns(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},qs=()=>{var e;return null===(e=zs())||void 0===e?void 0:e.config};class Us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function js(e){return e.endsWith(".cloudworkstations.dev")}const Hs={};let Ws=!1;function $s(e,t){if("undefined"==typeof window||"undefined"==typeof document||!js(window.location.host)||Hs[e]===t||Hs[e]||Ws)return;function n(e){return`__firebase__banner__${e}`}Hs[e]=t;const i="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hs))Hs[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function r(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),r=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),a=document.getElementById(o)||document.createElement("a"),l=n("preprendIcon"),u=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(a,o);const n=function(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ws=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,l),t.append(u,r,a,n),document.body.appendChild(t)}s?(r.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',r.innerText="Preview backend running in this workspace."),r.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r()}function Gs(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}class Ys extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],r=s?function(e,t){return e.replace(Xs,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(s,n):"Error",o=`${this.serviceName}: ${r} (${i}).`;return new Ys(i,o,n)}}const Xs=/\{\$([^}]+)}/g;function Qs(e){return JSON.parse(e)}function Zs(e){return JSON.stringify(e)}const Js=function(e){let t={},n={},i={},s="";try{const r=e.split(".");t=Qs(Ns(r[0])||""),n=Qs(Ns(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:s}};function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function nr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ir(e,t,n){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}function sr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s],r=t[s];if(rr(n)&&rr(r)){if(!sr(n,r))return!1}else if(n!==r)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function rr(e){return null!==e&&"object"==typeof e}class or{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let i,s,r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(i=l^o&(a^l),s=1518500249):(i=o^a^l,s=1859775393):e<60?(i=o&a|l&(o|a),s=2400959708):(i=o^a^l,s=3395469782);const t=(r<<5|r>>>27)+i+u+s+n[e]&4294967295;u=l,l=a,a=4294967295&(o<<30|o>>>2),o=r,r=t}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const s=this.buf_;let r=this.inbuf_;for(;i<t;){if(0===r)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[r]=e.charCodeAt(i),++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}else for(;i<t;)if(s[r]=e[i],++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}this.inbuf_=r,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let i=24;i>=0;i-=8)e[n]=this.chain_[t]>>i&255,++n;return e}}function ar(e,t){return`${e} failed: ${t} argument `}const lr=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function ur(e){return e&&e._delegate?e._delegate:e}class hr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cr="[DEFAULT]";class dr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Us;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:t});e&&n.resolve(e)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(e){}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===cr?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fr=[];var mr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mr||(mr={}));const _r={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},gr=mr.INFO,vr={[mr.DEBUG]:"log",[mr.VERBOSE]:"log",[mr.INFO]:"info",[mr.WARN]:"warn",[mr.ERROR]:"error"},yr=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),s=vr[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${i}]  ${e.name}:`,...n)};class wr{constructor(e){this.name=e,this._logLevel=gr,this._logHandler=yr,this._userLogHandler=null,fr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_r[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mr.DEBUG,...e),this._logHandler(this,mr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mr.VERBOSE,...e),this._logHandler(this,mr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mr.INFO,...e),this._logHandler(this,mr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mr.WARN,...e),this._logHandler(this,mr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mr.ERROR,...e),this._logHandler(this,mr.ERROR,...e)}}let br,Cr;const kr=new WeakMap,Tr=new WeakMap,Er=new WeakMap,Sr=new WeakMap,xr=new WeakMap;let Ir={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Tr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Er.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ar(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(Ar(e.result)),i()},r=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",r)}));return t.then((t=>{t instanceof IDBCursor&&kr.set(t,e)})).catch((()=>{})),xr.set(t,e),t}(e);if(Sr.has(e))return Sr.get(e);const t=function(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Cr||(Cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Pr(this),e),Ar(kr.get(this))}:function(...e){return Ar(t.apply(Pr(this),e))}:function(e,...n){const i=t.call(Pr(this),e,...n);return Er.set(i,e.sort?e.sort():[e]),Ar(i)}:(e instanceof IDBTransaction&&function(e){if(Tr.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),i()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)}));Tr.set(e,t)}(e),n=e,(br||(br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,Ir):e);var t,n}(e);return t!==e&&(Sr.set(e,t),xr.set(t,e)),t}const Pr=e=>xr.get(e),Mr=["get","getKey","getAll","getAllKeys","count"],Dr=["put","add","delete","clear"],Fr=new Map;function Or(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Fr.get(t))return Fr.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Dr.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Mr.includes(n))return;const r=async function(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),s&&r.done]))[0]};return Fr.set(t,r),r}var Rr;Rr=Ir,Ir={...Rr,get:(e,t,n)=>Or(e,t)||Rr.get(e,t,n),has:(e,t)=>!!Or(e,t)||Rr.has(e,t)};class Lr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Nr="@firebase/app",Br="0.13.0",Vr=new wr("@firebase/app"),zr="@firebase/app-compat",qr="@firebase/analytics-compat",Ur="@firebase/analytics",jr="@firebase/app-check-compat",Hr="@firebase/app-check",Wr="@firebase/auth",$r="@firebase/auth-compat",Gr="@firebase/database",Yr="@firebase/data-connect",Kr="@firebase/database-compat",Xr="@firebase/functions",Qr="@firebase/functions-compat",Zr="@firebase/installations",Jr="@firebase/installations-compat",eo="@firebase/messaging",to="@firebase/messaging-compat",no="@firebase/performance",io="@firebase/performance-compat",so="@firebase/remote-config",ro="@firebase/remote-config-compat",oo="@firebase/storage",ao="@firebase/storage-compat",lo="@firebase/firestore",uo="@firebase/ai",ho="@firebase/firestore-compat",co="firebase",po="[DEFAULT]",fo={[Nr]:"fire-core",[zr]:"fire-core-compat",[Ur]:"fire-analytics",[qr]:"fire-analytics-compat",[Hr]:"fire-app-check",[jr]:"fire-app-check-compat",[Wr]:"fire-auth",[$r]:"fire-auth-compat",[Gr]:"fire-rtdb",[Yr]:"fire-data-connect",[Kr]:"fire-rtdb-compat",[Xr]:"fire-fn",[Qr]:"fire-fn-compat",[Zr]:"fire-iid",[Jr]:"fire-iid-compat",[eo]:"fire-fcm",[to]:"fire-fcm-compat",[no]:"fire-perf",[io]:"fire-perf-compat",[so]:"fire-rc",[ro]:"fire-rc-compat",[oo]:"fire-gcs",[ao]:"fire-gcs-compat",[lo]:"fire-fst",[ho]:"fire-fst-compat",[uo]:"fire-vertex","fire-js":"fire-js",[co]:"fire-js-all"},mo=new Map,_o=new Map,go=new Map;function vo(e,t){try{e.container.addComponent(t)}catch(n){Vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yo(e){const t=e.name;if(go.has(t))return Vr.debug(`There were multiple attempts to register component ${t}.`),!1;go.set(t,e);for(const t of mo.values())vo(t,e);for(const t of _o.values())vo(t,e);return!0}const wo=new Ks("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class bo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}function Co(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:po,automaticDataCollectionEnabled:!0},t),s=i.name;if("string"!=typeof s||!s)throw wo.create("bad-app-name",{appName:String(s)});if(n||(n=qs()),!n)throw wo.create("no-options");const r=mo.get(s);if(r){if(sr(n,r.options)&&sr(i,r.config))return r;throw wo.create("duplicate-app",{appName:s})}const o=new pr(s);for(const e of go.values())o.addComponent(e);const a=new bo(n,i,o);return mo.set(s,a),a}function ko(e,t,n){var i;let s=null!==(i=fo[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const e=[`Unable to register library "${s}" with version "${t}":`];return r&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Vr.warn(e.join(" "))}yo(new hr(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const To="firebase-heartbeat-store";let Eo=null;function So(){return Eo||(Eo=function(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Ar(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(Ar(o.result),e.oldVersion,e.newVersion,Ar(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{r&&e.addEventListener("close",(()=>r())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(To)}catch(e){console.warn(e)}}}).catch((e=>{throw wo.create("idb-open",{originalErrorMessage:e.message})}))),Eo}async function xo(e,t){try{const n=(await So()).transaction(To,"readwrite"),i=n.objectStore(To);await i.put(t,Io(e)),await n.done}catch(e){if(e instanceof Ys)Vr.warn(e.message);else{const t=wo.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Vr.warn(t.message)}}}function Io(e){return`${e.name}!${e.options.appId}`}class Ao{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mo(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Po();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vr.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Po(),{heartbeatsToSend:n,unsentEntries:i}=function(e,t=1024){const n=[];let i=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Do(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Do(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=Ls(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Vr.warn(e),""}}}function Po(){return(new Date).toISOString().substring(0,10)}class Mo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await So()).transaction(To),n=await t.objectStore(To).get(Io(e));return await t.done,n}catch(e){if(e instanceof Ys)Vr.warn(e.message);else{const t=wo.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Vr.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return xo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return xo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Do(e){return Ls(JSON.stringify({version:2,heartbeats:e})).length}yo(new hr("platform-logger",(e=>new Lr(e)),"PRIVATE")),yo(new hr("heartbeat",(e=>new Ao(e)),"PRIVATE")),ko(Nr,Br,""),ko(Nr,Br,"esm2017"),ko("fire-js",""),ko("firebase","11.8.0","app");const Fo="@firebase/database",Oo="1.0.18";let Ro="";class Lo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zs(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Qs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class No{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return er(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Bo=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Lo(t)}}catch(e){}return new No},Vo=Bo("localStorage"),zo=Bo("sessionStorage"),qo=new wr("@firebase/database"),Uo=function(){let e=1;return function(){return e++}}(),jo=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,Ps(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t}(e),n=new or;n.update(t);const i=n.digest();return Fs.encodeByteArray(i)},Ho=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ho.apply(null,i):t+="object"==typeof i?Zs(i):i,t+=" "}return t};let Wo=null,$o=!0;const Go=function(...e){if(!0===$o&&($o=!1,null===Wo&&!0===zo.get("logging_enabled")&&(Ps(!0,"Can't turn on custom loggers persistently."),qo.logLevel=mr.VERBOSE,Wo=qo.log.bind(qo))),Wo){const t=Ho.apply(null,e);Wo(t)}},Yo=function(e){return function(...t){Go(e,...t)}},Ko=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ho(...e);qo.error(t)},Xo=function(...e){const t=`FIREBASE FATAL ERROR: ${Ho(...e)}`;throw qo.error(t),new Error(t)},Qo=function(...e){const t="FIREBASE WARNING: "+Ho(...e);qo.warn(t)},Zo=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Jo="[MIN_NAME]",ea="[MAX_NAME]",ta=function(e,t){if(e===t)return 0;if(e===Jo||t===ea)return-1;if(t===Jo||e===ea)return 1;{const n=ua(e),i=ua(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},na=function(e,t){return e===t?0:e<t?-1:1},ia=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Zs(t))},sa=function(e){if("object"!=typeof e||null===e)return Zs(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=Zs(t[i]),n+=":",n+=sa(e[t[i]]);return n+="}",n},ra=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function oa(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const aa=function(e){let t,n,i,s,r;Ps(!Zo(e),"Invalid JSON number"),0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=s+1023,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(r=52;r;r-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(r=11;r;r-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let l="";for(r=0;r<64;r+=8){let e=parseInt(a.substr(r,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},la=new RegExp("^-?(0*)\\d{1,10}$"),ua=function(e){if(la.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ha=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw Qo("Exception was thrown by user callback.",t),e}),Math.floor(0))}},ca=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class da{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Qo(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pa{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Go("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qo(e)}}class fa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fa.OWNER="owner";const ma=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_a="ac",ga="websocket",va="long_polling";class ya{constructor(e,t,n,i,s=!1,r="",o=!1,a=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function wa(e,t,n){let i;if(Ps("string"==typeof t,"typeof type must == string"),Ps("object"==typeof n,"typeof params must == object"),t===ga)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==va)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return oa(n,((e,t)=>{s.push(e+"="+t)})),i+s.join("&")}class ba{constructor(){this.counters_={}}incrementCounter(e,t=1){er(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Bs(this.counters_)}}const Ca={},ka={};function Ta(e){const t=e.toString();return Ca[t]||(Ca[t]=new ba),Ca[t]}class Ea{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ha((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Sa="start";class xa{constructor(e,t,n,i,s,r,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yo(e),this.stats_=Ta(t),this.urlFn=e=>(this.appCheckToken&&(e[_a]=this.appCheckToken),wa(t,va,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ea(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ia(((...e)=>{const[t,n,i,s,r]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Sa)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Sa]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[_a]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ma.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xa.forceAllow_=!0}static forceDisallow(){xa.forceDisallow_=!0}static isAvailable(){return!(!xa.forceAllow_&&(xa.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Zs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Rs(t),i=ra(n,1840);for(let e=0;e<i.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Zs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ia{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Uo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ia.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){Go("frame writing exception"),e.stack&&Go(e.stack),Go(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Go("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Go("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Aa=null;"undefined"!=typeof MozWebSocket?Aa=MozWebSocket:"undefined"!=typeof WebSocket&&(Aa=WebSocket);class Pa{constructor(e,t,n,i,s,r,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yo(this.connId),this.stats_=Ta(t),this.connURL=Pa.connectionURL_(t,r,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,s){const r={v:"5"};return"undefined"!=typeof location&&location.hostname&&ma.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),i&&(r[_a]=i),s&&(r.p=s),wa(e,ga,r)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vo.set("previous_websocket_failure",!0);try{let e;this.mySock=new Aa(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Pa.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Aa&&!Pa.forceDisallow_}static previouslyFailed(){return Vo.isInMemoryStorage||!0===Vo.get("previous_websocket_failure")}markConnectionHealthy(){Vo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Qs(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ps(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Zs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ra(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pa.responsesRequiredToBeHealthy=2,Pa.healthyTimeout=3e4;class Ma{static get ALL_TRANSPORTS(){return[xa,Pa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Pa&&Pa.isAvailable();let n=t&&!Pa.previouslyFailed();if(e.webSocketOnly&&(t||Qo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Pa];else{const e=this.transports_=[];for(const t of Ma.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Ma.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ma.globalTransportInitialized_=!1;class Da{constructor(e,t,n,i,s,r,o,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yo("c:"+this.id+":"),this.transportManager_=new Ma(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ca((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ia("t",e),n=ia("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ia("t",e),n=ia("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ia("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ko("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ko("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Qo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ca((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ca((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Fa{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Oa{constructor(e){this.allowedEvents_=e,this.listeners_={},Ps(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let e=0;e<i.length;e++)if(i[e].callback===t&&(!n||n===i[e].context))return void i.splice(e,1)}validateEventType_(e){Ps(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Ra extends Oa{static getInstance(){return new Ra}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Gs()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Ps("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class La{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Na(){return new La("")}function Ba(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Va(e){return e.pieces_.length-e.pieceNum_}function za(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new La(e.pieces_,t)}function qa(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ua(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ja(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new La(t,0)}function Ha(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof La)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new La(n,0)}function Wa(e){return e.pieceNum_>=e.pieces_.length}function $a(e,t){const n=Ba(e),i=Ba(t);if(null===n)return t;if(n===i)return $a(za(e),za(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ga(e,t){if(Va(e)!==Va(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ya(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Va(e)>Va(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ka{constructor(e,t){this.errorPrefix_=t,this.parts_=Ua(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=lr(this.parts_[e]);Xa(this)}}function Xa(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qa(e))}function Qa(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Za extends Oa{static getInstance(){return new Za}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Ps("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ja=1e3;class el extends Fa{constructor(e,t,n,i,s,r,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=el.nextPersistentConnectionId_++,this.log_=Yo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ja,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Za.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Zs(s)),Ps(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new Us,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const s=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+s),this.listens.has(r)||this.listens.set(r,new Map),Ps(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ps(!this.listens.get(r).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(r).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(s=>{const r=s.d,o=s.s;el.warnOnListenWarnings_(r,t),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,r))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&er(e,"w")){const n=tr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Qo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Js(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Js(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Ps(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e};i&&(s.q=n,s.t=i),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,s){this.initConnection_();const r={p:t,d:n};void 0!==s&&(r.h=s),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zs(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ko("Unrecognized action received from server: "+Zs(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ps(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+el.nextConnectionId_++,s=this.lastSessionId;let r=!1,o=null;const a=function(){o?o.close():(r=!0,n())},l=function(e){Ps(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);r?Go("getToken() completed but was canceled"):(Go("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new Da(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Qo(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),s))}catch(e){this.log_("Failed to get token: "+e),r||(this.repoInfo_.nodeAdmin&&Qo(e),a())}}}interrupt(e){Go("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Go("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nr(this.interruptReasons_)&&(this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>sa(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new La(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){Go("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Go("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+Ro.replace(/\./g,"-")]=1,Gs()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return nr(this.interruptReasons_)&&e}}el.nextPersistentConnectionId_=0,el.nextConnectionId_=0;class tl{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new tl(e,t)}}class nl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new tl(Jo,e),i=new tl(Jo,t);return 0!==this.compare(n,i)}minPost(){return tl.MIN}}let il;class sl extends nl{static get __EMPTY_NODE(){return il}static set __EMPTY_NODE(e){il=e}compare(e,t){return ta(e.name,t.name)}isDefinedOn(e){throw Ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return tl.MIN}maxPost(){return new tl(ea,il)}makePost(e,t){return Ps("string"==typeof e,"KeyIndex indexValue must always be a string."),new tl(e,il)}toString(){return".key"}}const rl=new sl;class ol{constructor(e,t,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse_?e.left:e.right;else{if(0===r){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class al{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:al.RED,this.left=null!=i?i:ll.EMPTY_NODE,this.right=null!=s?s:ll.EMPTY_NODE}copy(e,t,n,i,s){return new al(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ll.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ll.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,al.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,al.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}al.RED=!0,al.BLACK=!1;class ll{constructor(e,t=ll.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ll(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,al.BLACK,null,null))}remove(e){return new ll(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,al.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ol(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ol(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ol(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ol(this.root_,null,this.comparator_,!0,e)}}function ul(e,t){return ta(e.name,t.name)}function hl(e,t){return ta(e,t)}let cl;ll.EMPTY_NODE=new class{copy(e,t,n,i,s){return this}insert(e,t,n){return new al(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const dl=function(e){return"number"==typeof e?"number:"+aa(e):"string:"+e},pl=function(e){if(e.isLeafNode()){const t=e.val();Ps("string"==typeof t||"number"==typeof t||"object"==typeof t&&er(t,".sv"),"Priority must be a string or number.")}else Ps(e===cl||e.isEmpty(),"priority of unexpected type.");Ps(e===cl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fl,ml,_l;class gl{static set __childrenNodeConstructor(e){fl=e}static get __childrenNodeConstructor(){return fl}constructor(e,t=gl.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ps(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),pl(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gl(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:gl.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Wa(e)?this:".priority"===Ba(e)?this.priorityNode_:gl.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:gl.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Ba(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ps(".priority"!==n||1===Va(e),".priority must be the last token in a path"),this.updateImmediateChild(n,gl.__childrenNodeConstructor.EMPTY_NODE.updateChild(za(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dl(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?aa(this.value_):this.value_,this.lazyHash_=jo(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gl.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gl.__childrenNodeConstructor?-1:(Ps(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=gl.VALUE_TYPE_ORDER.indexOf(t),s=gl.VALUE_TYPE_ORDER.indexOf(n);return Ps(i>=0,"Unknown leaf type: "+t),Ps(s>=0,"Unknown leaf type: "+n),i===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}gl.VALUE_TYPE_ORDER=["object","boolean","number","string"];const vl=new class extends nl{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),s=n.compareTo(i);return 0===s?ta(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return tl.MIN}maxPost(){return new tl(ea,new gl("[PRIORITY-POST]",_l))}makePost(e,t){const n=ml(e);return new tl(t,new gl("[PRIORITY-POST]",n))}toString(){return".priority"}},yl=Math.log(2);class wl{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/yl,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bl=function(e,t,n,i){e.sort(t);const s=function(t,i){const r=i-t;let o,a;if(0===r)return null;if(1===r)return o=e[t],a=n?n(o):o,new al(a,o.node,al.BLACK,null,null);{const l=parseInt(r/2,10)+t,u=s(t,l),h=s(l+1,i);return o=e[l],a=n?n(o):o,new al(a,o.node,al.BLACK,u,h)}},r=function(t){let i=null,r=null,o=e.length;const a=function(t,i){const r=o-t,a=o;o-=t;const u=s(r+1,a),h=e[r],c=n?n(h):h;l(new al(c,h.node,i,null,u))},l=function(e){i?(i.left=e,i=e):(r=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,al.BLACK):(a(i,al.BLACK),a(i,al.RED))}return r}(new wl(e.length));return new ll(i||t,r)};let Cl;const kl={};class Tl{static get Default(){return Ps(kl&&vl,"ChildrenNode.ts has not been loaded"),Cl=Cl||new Tl({".priority":kl},{".priority":vl}),Cl}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=tr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ll?t:null}hasIndex(e){return er(this.indexSet_,e.toString())}addIndex(e,t){Ps(e!==rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=t.getIterator(tl.Wrap);let r,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=s.getNext();r=i?bl(n,e.getCompare()):kl;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const u=Object.assign({},this.indexes_);return u[a]=r,new Tl(u,l)}addToIndexes(e,t){const n=ir(this.indexes_,((n,i)=>{const s=tr(this.indexSet_,i);if(Ps(s,"Missing index implementation for "+i),n===kl){if(s.isDefinedOn(e.node)){const n=[],i=t.getIterator(tl.Wrap);let r=i.getNext();for(;r;)r.name!==e.name&&n.push(r),r=i.getNext();return n.push(e),bl(n,s.getCompare())}return kl}{const i=t.get(e.name);let s=n;return i&&(s=s.remove(new tl(e.name,i))),s.insert(e,e.node)}}));return new Tl(n,this.indexSet_)}removeFromIndexes(e,t){const n=ir(this.indexes_,(n=>{if(n===kl)return n;{const i=t.get(e.name);return i?n.remove(new tl(e.name,i)):n}}));return new Tl(n,this.indexSet_)}}let El;class Sl{static get EMPTY_NODE(){return El||(El=new Sl(new ll(hl),null,Tl.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&pl(this.priorityNode_),this.children_.isEmpty()&&Ps(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(e){return this.children_.isEmpty()?this:new Sl(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?El:t}}getChild(e){const t=Ba(e);return null===t?this:this.getImmediateChild(t).getChild(za(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ps(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new tl(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const r=i.isEmpty()?El:this.priorityNode_;return new Sl(i,r,s)}}updateChild(e,t){const n=Ba(e);if(null===n)return t;{Ps(".priority"!==Ba(e)||1===Va(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(za(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,s=!0;if(this.forEachChild(vl,((r,o)=>{t[r]=o.val(e),n++,s&&Sl.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):s=!1})),!e&&s&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+dl(this.getPriority().val())+":"),this.forEachChild(vl,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":jo(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new tl(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new tl(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new tl(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,tl.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,tl.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xl?-1:0}withIndex(e){if(e===rl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Sl(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===rl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(vl),n=t.getIterator(vl);let i=e.getNext(),s=n.getNext();for(;i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=e.getNext(),s=n.getNext()}return null===i&&null===s}return!1}return!1}}resolveIndex_(e){return e===rl?null:this.indexMap_.get(e.toString())}}Sl.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const xl=new class extends Sl{constructor(){super(new ll(hl),Sl.EMPTY_NODE,Tl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Sl.EMPTY_NODE}isEmpty(){return!1}};function Il(e,t=null){if(null===e)return Sl.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Ps(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new gl(e,Il(t));if(e instanceof Array){let n=Sl.EMPTY_NODE;return oa(e,((t,i)=>{if(er(e,t)&&"."!==t.substring(0,1)){const e=Il(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Il(t))}{const n=[];let i=!1;if(oa(e,((e,t)=>{if("."!==e.substring(0,1)){const s=Il(t);s.isEmpty()||(i=i||!s.getPriority().isEmpty(),n.push(new tl(e,s)))}})),0===n.length)return Sl.EMPTY_NODE;const s=bl(n,ul,(e=>e.name),hl);if(i){const e=bl(n,vl.getCompare());return new Sl(s,Il(t),new Tl({".priority":e},{".priority":vl}))}return new Sl(s,Il(t),Tl.Default)}}Object.defineProperties(tl,{MIN:{value:new tl(Jo,Sl.EMPTY_NODE)},MAX:{value:new tl(ea,xl)}}),sl.__EMPTY_NODE=Sl.EMPTY_NODE,gl.__childrenNodeConstructor=Sl,cl=xl,_l=xl,function(e){ml=e}(Il);class Al extends nl{constructor(e){super(),this.indexPath_=e,Ps(!Wa(e)&&".priority"!==Ba(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),s=n.compareTo(i);return 0===s?ta(e.name,t.name):s}makePost(e,t){const n=Il(e),i=Sl.EMPTY_NODE.updateChild(this.indexPath_,n);return new tl(t,i)}maxPost(){const e=Sl.EMPTY_NODE.updateChild(this.indexPath_,xl);return new tl(ea,e)}toString(){return Ua(this.indexPath_,0).join("/")}}const Pl=new class extends nl{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?ta(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return tl.MIN}maxPost(){return tl.MAX}makePost(e,t){const n=Il(e);return new tl(t,n)}toString(){return".value"}};function Ml(e){return{type:"value",snapshotNode:e}}function Dl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Fl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ol(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Rl{constructor(e){this.index_=e}updateChild(e,t,n,i,s,r){Ps(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=r&&(n.isEmpty()?e.hasChild(t)?r.trackChildChange(Fl(t,o)):Ps(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?r.trackChildChange(Dl(t,n)):r.trackChildChange(Ol(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(vl,((e,i)=>{t.hasChild(e)||n.trackChildChange(Fl(e,i))})),t.isLeafNode()||t.forEachChild(vl,((t,i)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(i)||n.trackChildChange(Ol(t,i,s))}else n.trackChildChange(Dl(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Sl.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ll{constructor(e){this.indexedFilter_=new Rl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ll.getStartPost_(e),this.endPost_=Ll.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,s,r){return this.matches(new tl(t,n))||(n=Sl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,s,r)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Sl.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Sl.EMPTY_NODE);const s=this;return t.forEachChild(vl,((e,t)=>{s.matches(new tl(e,t))||(i=i.updateImmediateChild(e,Sl.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Nl{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ll(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,s,r){return this.rangedFilter_.matches(new tl(t,n))||(n=Sl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,s,r):this.fullLimitUpdateChild_(e,t,n,s,r)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=Sl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=Sl.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(Sl.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,Sl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,s){let r;if(this.reverse_){const e=this.index_.getCompare();r=(t,n)=>e(n,t)}else r=this.index_.getCompare();const o=e;Ps(o.numChildren()===this.limit_,"");const a=new tl(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===t||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const c=null==h?1:r(h,a);if(u&&!n.isEmpty()&&c>=0)return null!=s&&s.trackChildChange(Ol(t,n,e)),o.updateImmediateChild(t,n);{null!=s&&s.trackChildChange(Fl(t,e));const n=o.updateImmediateChild(t,Sl.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(Dl(h.name,h.node)),n.updateImmediateChild(h.name,h.node)):n}}return n.isEmpty()?e:u&&r(l,a)>=0?(null!=s&&(s.trackChildChange(Fl(l.name,l.node)),s.trackChildChange(Dl(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Sl.EMPTY_NODE)):e}}class Bl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vl}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ps(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ps(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jo}hasEnd(){return this.endSet_}getIndexEndValue(){return Ps(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ps(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ea}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ps(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vl}copy(){const e=new Bl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Vl(e){const t={};if(e.isDefault())return t;let n;if(e.index_===vl?n="$priority":e.index_===Pl?n="$value":e.index_===rl?n="$key":(Ps(e.index_ instanceof Al,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Zs(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Zs(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Zs(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Zs(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Zs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function zl(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==vl&&(t.i=e.index_.toString()),t}class ql extends Fa{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ps(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Yo("p:rest:"),this.listens_={}}listen(e,t,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const r=ql.getListenId_(e,n),o={};this.listens_[r]=o;const a=Vl(e._queryParams);this.restRequest_(s+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(s,a,!1,n),tr(this.listens_,r)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=ql.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Vl(e._queryParams),n=e._path.toString(),i=new Us;return this.restRequest_(n+".json",t,((e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),i.resolve(s)):i.reject(new Error(s))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+r);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=Qs(o.responseText)}catch(e){Qo("Failed to parse JSON response for "+r+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&Qo("Got unsuccessful REST response for "+r+" Status: "+o.status),n(o.status);n=null}},o.open("GET",r,!0),o.send()}))}}class Ul{constructor(){this.rootNode_=Sl.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jl(){return{value:null,children:new Map}}function Hl(e,t,n){if(Wa(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=Ba(t);e.children.has(i)||e.children.set(i,jl()),Hl(e.children.get(i),t=za(t),n)}}function Wl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{Wl(i,new La(t.toString()+"/"+e),n)}))}class $l{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oa(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Gl{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $l(e);const n=1e4+2e4*Math.random();ca(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;oa(e,((e,i)=>{i>0&&er(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),ca(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yl;function Kl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Yl||(Yl={}));class Xl{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Yl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Wa(this.path)){if(null!=this.affectedTree.value)return Ps(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new La(e));return new Xl(Na(),t,this.revert)}}return Ps(Ba(this.path)===e,"operationForChild called for unrelated child."),new Xl(za(this.path),this.affectedTree,this.revert)}}class Ql{constructor(e,t){this.source=e,this.path=t,this.type=Yl.LISTEN_COMPLETE}operationForChild(e){return Wa(this.path)?new Ql(this.source,Na()):new Ql(this.source,za(this.path))}}class Zl{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Yl.OVERWRITE}operationForChild(e){return Wa(this.path)?new Zl(this.source,Na(),this.snap.getImmediateChild(e)):new Zl(this.source,za(this.path),this.snap)}}class Jl{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Yl.MERGE}operationForChild(e){if(Wa(this.path)){const t=this.children.subtree(new La(e));return t.isEmpty()?null:t.value?new Zl(this.source,Na(),t.value):new Jl(this.source,Na(),t)}return Ps(Ba(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jl(this.source,za(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eu{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wa(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ba(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class tu{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nu(e,t,n,i,s,r){const o=i.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ms("Should only compare child_ events.");const i=new tl(t.childName,t.snapshotNode),s=new tl(n.childName,n.snapshotNode);return e.index_.compare(i,s)}(e,t,n))),o.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,r);s.forEach((s=>{s.respondsTo(n.type)&&t.push(s.createEvent(i,e.query_))}))}))}function iu(e,t){return{eventCache:e,serverCache:t}}function su(e,t,n,i){return iu(new eu(t,n,i),e.serverCache)}function ru(e,t,n,i){return iu(e.eventCache,new eu(t,n,i))}function ou(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function au(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let lu;class uu{static fromObject(e){let t=new uu(null);return oa(e,((e,n)=>{t=t.set(new La(e),n)})),t}constructor(e,t=(()=>(lu||(lu=new ll(na)),lu))()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Na(),value:this.value};if(Wa(e))return null;{const n=Ba(e),i=this.children.get(n);if(null!==i){const s=i.findRootMostMatchingPathAndValue(za(e),t);return null!=s?{path:Ha(new La(n),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Wa(e))return this;{const t=Ba(e),n=this.children.get(t);return null!==n?n.subtree(za(e)):new uu(null)}}set(e,t){if(Wa(e))return new uu(t,this.children);{const n=Ba(e),i=(this.children.get(n)||new uu(null)).set(za(e),t),s=this.children.insert(n,i);return new uu(this.value,s)}}remove(e){if(Wa(e))return this.children.isEmpty()?new uu(null):new uu(null,this.children);{const t=Ba(e),n=this.children.get(t);if(n){const i=n.remove(za(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new uu(null):new uu(this.value,s)}return this}}get(e){if(Wa(e))return this.value;{const t=Ba(e),n=this.children.get(t);return n?n.get(za(e)):null}}setTree(e,t){if(Wa(e))return t;{const n=Ba(e),i=(this.children.get(n)||new uu(null)).setTree(za(e),t);let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new uu(this.value,s)}}fold(e){return this.fold_(Na(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,s)=>{n[i]=s.fold_(Ha(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Na(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(Wa(e))return null;{const i=Ba(e),s=this.children.get(i);return s?s.findOnPath_(za(e),Ha(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Na(),t)}foreachOnPath_(e,t,n){if(Wa(e))return this;{this.value&&n(t,this.value);const i=Ba(e),s=this.children.get(i);return s?s.foreachOnPath_(za(e),Ha(t,i),n):new uu(null)}}foreach(e){this.foreach_(Na(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(Ha(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class hu{constructor(e){this.writeTree_=e}static empty(){return new hu(new uu(null))}}function cu(e,t,n){if(Wa(t))return new hu(new uu(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let r=i.value;const o=$a(s,t);return r=r.updateChild(o,n),new hu(e.writeTree_.set(s,r))}{const i=new uu(n),s=e.writeTree_.setTree(t,i);return new hu(s)}}}function du(e,t,n){let i=e;return oa(n,((e,n)=>{i=cu(i,Ha(t,e),n)})),i}function pu(e,t){if(Wa(t))return hu.empty();{const n=e.writeTree_.setTree(t,new uu(null));return new hu(n)}}function fu(e,t){return null!=mu(e,t)}function mu(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild($a(n.path,t)):null}function _u(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(vl,((e,n)=>{t.push(new tl(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new tl(e,n.value))})),t}function gu(e,t){if(Wa(t))return e;{const n=mu(e,t);return new hu(null!=n?new uu(n):e.writeTree_.subtree(t))}}function vu(e){return e.writeTree_.isEmpty()}function yu(e,t){return wu(Na(),e.writeTree_,t)}function wu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,s)=>{".priority"===t?(Ps(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=wu(Ha(e,t),s,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(Ha(e,".priority"),i)),n}}function bu(e,t){return Du(t,e)}function Cu(e,t){if(e.snap)return Ya(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ya(Ha(e.path,n),t))return!0;return!1}function ku(e){return e.visible}function Tu(e,t,n){let i=hu.empty();for(let s=0;s<e.length;++s){const r=e[s];if(t(r)){const e=r.path;let t;if(r.snap)Ya(n,e)?(t=$a(n,e),i=cu(i,t,r.snap)):Ya(e,n)&&(t=$a(e,n),i=cu(i,Na(),r.snap.getChild(t)));else{if(!r.children)throw Ms("WriteRecord should have .snap or .children");if(Ya(n,e))t=$a(n,e),i=du(i,t,r.children);else if(Ya(e,n))if(t=$a(e,n),Wa(t))i=du(i,Na(),r.children);else{const e=tr(r.children,Ba(t));if(e){const n=e.getChild(za(t));i=cu(i,Na(),n)}}}}}return i}function Eu(e,t,n,i,s){if(i||s){const r=gu(e.visibleWrites,t);if(!s&&vu(r))return n;if(s||null!=n||fu(r,Na())){const r=function(e){return(e.visible||s)&&(!i||!~i.indexOf(e.writeId))&&(Ya(e.path,t)||Ya(t,e.path))};return yu(Tu(e.allWrites,r,t),n||Sl.EMPTY_NODE)}return null}{const i=mu(e.visibleWrites,t);if(null!=i)return i;{const i=gu(e.visibleWrites,t);return vu(i)?n:null!=n||fu(i,Na())?yu(i,n||Sl.EMPTY_NODE):null}}}function Su(e,t,n,i){return Eu(e.writeTree,e.treePath,t,n,i)}function xu(e,t){return function(e,t,n){let i=Sl.EMPTY_NODE;const s=mu(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(vl,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const s=gu(e.visibleWrites,t);return n.forEachChild(vl,((e,t)=>{const n=yu(gu(s,new La(e)),t);i=i.updateImmediateChild(e,n)})),_u(s).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return _u(gu(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function Iu(e,t,n,i){return function(e,t,n,i,s){Ps(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Ha(t,n);if(fu(e.visibleWrites,r))return null;{const t=gu(e.visibleWrites,r);return vu(t)?s.getChild(n):yu(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function Au(e,t){return function(e,t){return mu(e.visibleWrites,t)}(e.writeTree,Ha(e.treePath,t))}function Pu(e,t,n){return function(e,t,n,i){const s=Ha(t,n),r=mu(e.visibleWrites,s);return null!=r?r:i.isCompleteForChild(n)?yu(gu(e.visibleWrites,s),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Mu(e,t){return Du(Ha(e.treePath,t),e.writeTree)}function Du(e,t){return{treePath:e,writeTree:t}}class Fu{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ps("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ps(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,Ol(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,Fl(n,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,Dl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Ms("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,Ol(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ou=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Ru{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new eu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pu(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:au(this.viewCache_),s=function(e,t,n,i,s,r){return function(e,t,n,i,s,r,o){let a;const l=gu(e.visibleWrites,t),u=mu(l,Na());if(null!=u)a=u;else{if(null==n)return[];a=yu(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let s=n.getNext();for(;s&&e.length<1;)0!==t(s,i)&&e.push(s),s=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,s,r)}(this.writes_,i,t,0,n,e);return 0===s.length?null:s[0]}}function Lu(e,t,n,i,s,r){const o=t.eventCache;if(null!=Au(i,n))return t;{let a,l;if(Wa(n))if(Ps(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=au(t),s=xu(i,n instanceof Sl?n:Sl.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),s,r)}else{const n=Su(i,au(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,r)}else{const u=Ba(n);if(".priority"===u){Ps(1===Va(n),"Can't have a priority with additional path components");const s=o.getNode();l=t.serverCache.getNode();const r=Iu(i,n,s,l);a=null!=r?e.filter.updatePriority(s,r):o.getNode()}else{const h=za(n);let c;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const e=Iu(i,n,o.getNode(),l);c=null!=e?o.getNode().getImmediateChild(u).updateChild(h,e):o.getNode().getImmediateChild(u)}else c=Pu(i,u,t.serverCache);a=null!=c?e.filter.updateChild(o.getNode(),u,c,h,s,r):o.getNode()}}return su(t,a,o.isFullyInitialized()||Wa(n),e.filter.filtersNodes())}}function Nu(e,t,n,i,s,r,o,a){const l=t.serverCache;let u;const h=o?e.filter:e.filter.getIndexedFilter();if(Wa(n))u=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);u=h.updateFullNode(l.getNode(),e,null)}else{const e=Ba(n);if(!l.isCompleteForPath(n)&&Va(n)>1)return t;const s=za(n),r=l.getNode().getImmediateChild(e).updateChild(s,i);u=".priority"===e?h.updatePriority(l.getNode(),r):h.updateChild(l.getNode(),e,r,s,Ou,null)}const c=ru(t,u,l.isFullyInitialized()||Wa(n),h.filtersNodes());return Lu(e,c,n,s,new Ru(s,c,r),a)}function Bu(e,t,n,i,s,r,o){const a=t.eventCache;let l,u;const h=new Ru(s,t,r);if(Wa(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=su(t,u,!0,e.filter.filtersNodes());else{const s=Ba(n);if(".priority"===s)u=e.filter.updatePriority(t.eventCache.getNode(),i),l=su(t,u,a.isFullyInitialized(),a.isFiltered());else{const r=za(n),u=a.getNode().getImmediateChild(s);let c;if(Wa(r))c=i;else{const e=h.getCompleteChild(s);c=null!=e?".priority"===qa(r)&&e.getChild(ja(r)).isEmpty()?e:e.updateChild(r,i):Sl.EMPTY_NODE}l=u.equals(c)?t:su(t,e.filter.updateChild(a.getNode(),s,c,r,h,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Vu(e,t){return e.eventCache.isCompleteForChild(t)}function zu(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function qu(e,t,n,i,s,r,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Wa(n)?i:new uu(null).setTree(n,i);const h=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(h.hasChild(n)){const l=zu(0,t.serverCache.getNode().getImmediateChild(n),i);u=Nu(e,u,new La(n),l,s,r,o,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!h.hasChild(n)&&!l){const l=zu(0,t.serverCache.getNode().getImmediateChild(n),i);u=Nu(e,u,new La(n),l,s,r,o,a)}})),u}class Uu{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Rl(n.getIndex()),s=(r=n).loadsAllData()?new Rl(r.getIndex()):r.hasLimit()?new Nl(r):new Ll(r);var r;this.processor_=function(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(Sl.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Sl.EMPTY_NODE,a.getNode(),null),h=new eu(l,o.isFullyInitialized(),i.filtersNodes()),c=new eu(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=iu(c,h),this.eventGenerator_=new tu(this.query_)}get query(){return this.query_}}function ju(e,t){const n=au(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Wa(t)&&!n.getImmediateChild(Ba(t)).isEmpty())?n.getChild(t):null}function Hu(e){return 0===e.eventRegistrations_.length}function Wu(e,t,n){const i=[];if(n){Ps(null==t,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,s);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const s=e.eventRegistrations_[i];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function $u(e,t,n,i){t.type===Yl.MERGE&&null!==t.source.queryId&&(Ps(au(e.viewCache_),"We should always have a full cache before handling merges"),Ps(ou(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,r=function(e,t,n,i,s){const r=new Fu;let o,a;if(n.type===Yl.OVERWRITE){const l=n;l.source.fromUser?o=Bu(e,t,l.path,l.snap,i,s,r):(Ps(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Wa(l.path),o=Nu(e,t,l.path,l.snap,i,s,a,r))}else if(n.type===Yl.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,i,s,r,o){let a=t;return i.foreach(((i,l)=>{const u=Ha(n,i);Vu(t,Ba(u))&&(a=Bu(e,a,u,l,s,r,o))})),i.foreach(((i,l)=>{const u=Ha(n,i);Vu(t,Ba(u))||(a=Bu(e,a,u,l,s,r,o))})),a}(e,t,l.path,l.children,i,s,r):(Ps(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=qu(e,t,l.path,l.children,i,s,a,r))}else if(n.type===Yl.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,i,s,r){let o;if(null!=Au(i,n))return t;{const a=new Ru(i,t,s),l=t.eventCache.getNode();let u;if(Wa(n)||".priority"===Ba(n)){let n;if(t.serverCache.isFullyInitialized())n=Su(i,au(t));else{const e=t.serverCache.getNode();Ps(e instanceof Sl,"serverChildren would be complete if leaf node"),n=xu(i,e)}u=e.filter.updateFullNode(l,n,r)}else{const s=Ba(n);let h=Pu(i,s,t.serverCache);null==h&&t.serverCache.isCompleteForChild(s)&&(h=l.getImmediateChild(s)),u=null!=h?e.filter.updateChild(l,s,h,za(n),a,r):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,Sl.EMPTY_NODE,za(n),a,r):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Su(i,au(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,r)))}return o=t.serverCache.isFullyInitialized()||null!=Au(i,Na()),su(t,u,o,e.filter.filtersNodes())}}(e,t,a.path,i,s,r):function(e,t,n,i,s,r,o){if(null!=Au(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Wa(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Nu(e,t,n,l.getNode().getChild(n),s,r,a,o);if(Wa(n)){let i=new uu(null);return l.getNode().forEachChild(rl,((e,t)=>{i=i.set(new La(e),t)})),qu(e,t,n,i,s,r,a,o)}return t}{let u=new uu(null);return i.foreach(((e,t)=>{const i=Ha(n,e);l.isCompleteForPath(i)&&(u=u.set(e,l.getNode().getChild(i)))})),qu(e,t,n,u,s,r,a,o)}}(e,t,a.path,a.affectedTree,i,s,r)}else{if(n.type!==Yl.LISTEN_COMPLETE)throw Ms("Unknown operation type: "+n.type);o=function(e,t,n,i,s){const r=t.serverCache;return Lu(e,ru(t,r.getNode(),r.isFullyInitialized()||Wa(n),r.isFiltered()),n,i,Ou,s)}(e,t,n.path,i,r)}const l=r.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=ou(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(Ml(ou(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,s,t,n,i);var o,a;return o=e.processor_,a=r.viewCache,Ps(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ps(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ps(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=r.viewCache,Gu(e,r.changes,r.viewCache.eventCache.getNode(),null)}function Gu(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const s=[],r=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&r.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),nu(e,s,"child_removed",t,i,n),nu(e,s,"child_added",t,i,n),nu(e,s,"child_moved",r,i,n),nu(e,s,"child_changed",t,i,n),nu(e,s,"value",t,i,n),s}(e.eventGenerator_,t,n,s)}let Yu,Ku;class Xu{constructor(){this.views=new Map}}function Qu(e,t,n,i){const s=t.source.queryId;if(null!==s){const r=e.views.get(s);return Ps(null!=r,"SyncTree gave us an op for an invalid query."),$u(r,t,n,i)}{let s=[];for(const r of e.views.values())s=s.concat($u(r,t,n,i));return s}}function Zu(e,t,n,i,s){const r=t._queryIdentifier,o=e.views.get(r);if(!o){let e=Su(n,s?i:null),r=!1;e?r=!0:i instanceof Sl?(e=xu(n,i),r=!1):(e=Sl.EMPTY_NODE,r=!1);const o=iu(new eu(e,r,!1),new eu(i,s,!1));return new Uu(t,o)}return o}function Ju(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function eh(e,t){let n=null;for(const i of e.views.values())n=n||ju(i,t);return n}function th(e,t){if(t._queryParams.loadsAllData())return sh(e);{const n=t._queryIdentifier;return e.views.get(n)}}function nh(e,t){return null!=th(e,t)}function ih(e){return null!=sh(e)}function sh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let rh=1;class oh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new uu(null),this.pendingWriteTree_={visibleWrites:hu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ah(e,t,n,i,s){return function(e,t,n,i,s){Ps(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:s}),s&&(e.visibleWrites=cu(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,s),s?ph(e,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function lh(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ps(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let s=i.visible,r=!1,o=e.allWrites.length-1;for(;s&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Cu(t,i.path)?s=!1:Ya(i.path,t.path)&&(r=!0)),o--}return!!s&&(r?(function(e){e.visibleWrites=Tu(e.allWrites,ku,Na()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(i.snap?e.visibleWrites=pu(e.visibleWrites,i.path):oa(i.children,(t=>{e.visibleWrites=pu(e.visibleWrites,Ha(i.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new uu(null);return null!=i.snap?t=t.set(Na(),!0):oa(i.children,(e=>{t=t.set(new La(e),!0)})),ph(e,new Xl(i.path,t,n))}return[]}function uh(e,t,n){return ph(e,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function hh(e,t,n,i,s=!1){const r=t._path,o=e.syncPointTree_.get(r);let a=[];if(o&&("default"===t._queryIdentifier||nh(o,t))){const l=function(e,t,n,i){const s=t._queryIdentifier,r=[];let o=[];const a=ih(e);if("default"===s)for(const[t,s]of e.views.entries())o=o.concat(Wu(s,n,i)),Hu(s)&&(e.views.delete(t),s.query._queryParams.loadsAllData()||r.push(s.query));else{const t=e.views.get(s);t&&(o=o.concat(Wu(t,n,i)),Hu(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||r.push(t.query)))}return a&&!ih(e)&&r.push(new(Ps(Yu,"Reference.ts has not been loaded"),Yu)(t._repo,t._path)),{removed:r,events:o}}(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(r));const u=l.removed;if(a=l.events,!s){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),s=e.syncPointTree_.findOnPath(r,((e,t)=>ih(t)));if(n&&!s){const t=e.syncPointTree_.subtree(r);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&ih(t))return[sh(t)];{let e=[];return t&&(e=Ju(t)),oa(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],s=i.query,r=_h(e,i);e.listenProvider_.startListening(Ch(s),gh(e,s),r.hashFn,r.onComplete)}}}if(!s&&u.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(Ch(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(vh(t));e.listenProvider_.stopListening(Ch(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=vh(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function ch(e,t,n,i){const s=yh(e,i);if(null!=s){const i=wh(s),r=i.path,o=i.queryId,a=$a(r,t);return bh(e,r,new Zl(Kl(o),a,n))}return[]}function dh(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=eh(n,$a(e,t));if(i)return i}));return Eu(i,t,s,n,!0)}function ph(e,t){return fh(t,e.syncPointTree_,null,bu(e.pendingWriteTree_,Na()))}function fh(e,t,n,i){if(Wa(e.path))return mh(e,t,n,i);{const s=t.get(Na());null==n&&null!=s&&(n=eh(s,Na()));let r=[];const o=Ba(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Mu(i,o);r=r.concat(fh(a,l,e,t))}return s&&(r=r.concat(Qu(s,e,i,n))),r}}function mh(e,t,n,i){const s=t.get(Na());null==n&&null!=s&&(n=eh(s,Na()));let r=[];return t.children.inorderTraversal(((t,s)=>{const o=n?n.getImmediateChild(t):null,a=Mu(i,t),l=e.operationForChild(t);l&&(r=r.concat(mh(l,s,o,a)))})),s&&(r=r.concat(Qu(s,e,i,n))),r}function _h(e,t){const n=t.query,i=gh(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||Sl.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=yh(e,n);if(i){const n=wh(i),s=n.path,r=n.queryId,o=$a(s,t);return bh(e,s,new Ql(Kl(r),o))}return[]}(e,n._path,i):function(e,t){return ph(e,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return hh(e,n,null,i)}}}}function gh(e,t){const n=vh(t);return e.queryToTagMap.get(n)}function vh(e){return e._path.toString()+"$"+e._queryIdentifier}function yh(e,t){return e.tagToQueryMap.get(t)}function wh(e){const t=e.indexOf("$");return Ps(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new La(e.substr(0,t))}}function bh(e,t,n){const i=e.syncPointTree_.get(t);return Ps(i,"Missing sync point for query tag that we're tracking"),Qu(i,n,bu(e.pendingWriteTree_,t),null)}function Ch(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ps(Ku,"Reference.ts has not been loaded"),Ku)(e._repo,e._path):e}class kh{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new kh(t)}node(){return this.node_}}class Th{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ha(this.path_,e);return new Th(this.syncTree_,t)}node(){return dh(this.syncTree_,this.path_)}}const Eh=function(e,t,n){return e&&"object"==typeof e?(Ps(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Sh(e[".sv"],t,n):"object"==typeof e[".sv"]?xh(e[".sv"],t):void Ps(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Sh=function(e,t,n){if("timestamp"===e)return n.timestamp;Ps(!1,"Unexpected server value: "+e)},xh=function(e,t,n){e.hasOwnProperty("increment")||Ps(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&Ps(!1,"Unexpected increment value: "+i);const s=t.node();if(Ps(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return"number"!=typeof r?i:r+i},Ih=function(e,t,n){return Ah(e,new kh(t),n)};function Ah(e,t,n){const i=e.getPriority().val(),s=Eh(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const i=e,r=Eh(i.getValue(),t,n);return r!==i.getValue()||s!==i.getPriority().val()?new gl(r,Il(s)):e}{const i=e;return r=i,s!==i.getPriority().val()&&(r=r.updatePriority(new gl(s))),i.forEachChild(vl,((e,i)=>{const s=Ah(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))})),r}}class Ph{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Mh(e,t){let n=t instanceof La?t:new La(t),i=e,s=Ba(n);for(;null!==s;){const e=tr(i.node.children,s)||{children:{},childCount:0};i=new Ph(s,i,e),n=za(n),s=Ba(n)}return i}function Dh(e){return e.node.value}function Fh(e,t){e.node.value=t,Bh(e)}function Oh(e){return e.node.childCount>0}function Rh(e,t){oa(e.node.children,((n,i)=>{t(new Ph(n,e,i))}))}function Lh(e,t,n,i){n&&!i&&t(e),Rh(e,(e=>{Lh(e,t,!0,i)})),n&&i&&t(e)}function Nh(e){return new La(null===e.parent?e.name:Nh(e.parent)+"/"+e.name)}function Bh(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===Dh(e)&&!Oh(e)}(n),s=er(e.node.children,t);i&&s?(delete e.node.children[t],e.node.childCount--,Bh(e)):i||s||(e.node.children[t]=n.node,e.node.childCount++,Bh(e))}(e.parent,e.name,e)}const Vh=/[\[\].#$\/\u0000-\u001F\u007F]/,zh=/[\[\].#$\u0000-\u001F\u007F]/,qh=10485760,Uh=function(e){return"string"==typeof e&&0!==e.length&&!Vh.test(e)},jh=function(e){return"string"==typeof e&&0!==e.length&&!zh.test(e)},Hh=function(e,t,n,i){i&&void 0===t||Wh(ar(e,"value"),t,n)},Wh=function(e,t,n){const i=n instanceof La?new Ka(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Qa(i));if("function"==typeof t)throw new Error(e+"contains a function "+Qa(i)+" with contents = "+t.toString());if(Zo(t))throw new Error(e+"contains "+t.toString()+" "+Qa(i));if("string"==typeof t&&t.length>qh/3&&lr(t)>qh)throw new Error(e+"contains a string greater than "+qh+" utf8 bytes "+Qa(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,s=!1;if(oa(t,((t,r)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Uh(t)))throw new Error(e+" contains an invalid key ("+t+") "+Qa(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=lr(t),Xa(e)}(i,t),Wh(e,r,i),function(e){const t=e.parts_.pop();e.byteLength_-=lr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&s)throw new Error(e+' contains ".value" child '+Qa(i)+" in addition to actual children.")}},$h=function(e,t,n,i){if(!(i&&void 0===n||jh(n)))throw new Error(ar(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gh=function(e,t){if(".info"===Ba(t))throw new Error(e+" failed = Can't modify data under /.info/")};class Yh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kh(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();null===n||Ga(r,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function Xh(e,t,n){Kh(e,n),function(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];s&&(t(s.path)?(Qh(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,(e=>Ya(e,t)||Ya(t,e)))}function Qh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Wo&&Go("event: "+n.toString()),ha(i)}}}class Zh{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jl(),this.transactionQueueTree_=new Ph,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jh(e){const t=e.infoData_.getNode(new La(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ec(e){return(t=(t={timestamp:Jh(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function tc(e,t,n,i,s){e.dataUpdateCount++;const r=new La(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(s)if(i){const t=ir(n,(e=>Il(e)));o=function(e,t,n,i){const s=yh(e,i);if(s){const i=wh(s),r=i.path,o=i.queryId,a=$a(r,t),l=uu.fromObject(n);return bh(e,r,new Jl(Kl(o),a,l))}return[]}(e.serverSyncTree_,r,t,s)}else{const t=Il(n);o=ch(e.serverSyncTree_,r,t,s)}else if(i){const t=ir(n,(e=>Il(e)));o=function(e,t,n){const i=uu.fromObject(n);return ph(e,new Jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,r,t)}else{const t=Il(n);o=uh(e.serverSyncTree_,r,t)}let a=r;o.length>0&&(a=lc(e,r)),Xh(e.eventQueue_,a,o)}function nc(e,t){ic(e,"connected",t),!1===t&&function(e){rc(e,"onDisconnectEvents");const t=ec(e),n=jl();Wl(e.onDisconnect_,Na(),((i,s)=>{const r=function(e,t,n,i){return Ah(t,new Th(n,e),i)}(i,s,e.serverSyncTree_,t);Hl(n,i,r)}));let i=[];Wl(n,Na(),((t,n)=>{i=i.concat(uh(e.serverSyncTree_,t,n));const s=pc(e,t);lc(e,s)})),e.onDisconnect_=jl(),Xh(e.eventQueue_,Na(),i)}(e)}function ic(e,t,n){const i=new La("/.info/"+t),s=Il(n);e.infoData_.updateSnapshot(i,s);const r=uh(e.infoSyncTree_,i,s);Xh(e.eventQueue_,i,r)}function sc(e){return e.nextWriteId_++}function rc(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Go(n,...t)}function oc(e,t,n){return dh(e.serverSyncTree_,t,n)||Sl.EMPTY_NODE}function ac(e,t=e.transactionQueueTree_){if(t||dc(e,t),Dh(t)){const n=hc(e,t);Ps(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),s=oc(e,t,i);let r=s;const o=s.hash();for(let e=0;e<n.length;e++){const i=n[e];Ps(0===i.status,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=1,i.retryCount++;const s=$a(t,i.path);r=r.updateChild(s,i.currentOutputSnapshotRaw)}const a=r.val(!0),l=t;e.server_.put(l.toString(),a,(i=>{rc(e,"transaction put response",{path:l.toString(),status:i});let s=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(lh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();dc(e,Mh(e.transactionQueueTree_,t)),ac(e,e.transactionQueueTree_),Xh(e.eventQueue_,t,s);for(let e=0;e<i.length;e++)ha(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Qo("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}lc(e,t)}}),o)}(e,Nh(t),n)}else Oh(t)&&Rh(t,(t=>{ac(e,t)}))}function lc(e,t){const n=uc(e,t),i=Nh(n);return function(e,t,n){if(0===t.length)return;const i=[];let s=[];const r=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let a=0;a<t.length;a++){const l=t[a],u=$a(n,l.path);let h,c=!1;if(Ps(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,h=l.abortReason,s=s.concat(lh(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)c=!0,h="maxretry",s=s.concat(lh(e.serverSyncTree_,l.currentWriteId,!0));else{const n=oc(e,l.path,r);l.currentInputSnapshot=n;const i=t[a].update(n.val());if(void 0!==i){Wh("transaction failed: Data returned ",i,l.path);let t=Il(i);"object"==typeof i&&null!=i&&er(i,".priority")||(t=t.updatePriority(n.getPriority()));const o=l.currentWriteId,a=ec(e),u=Ih(t,n,a);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=sc(e),r.splice(r.indexOf(o),1),s=s.concat(ah(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally)),s=s.concat(lh(e.serverSyncTree_,o,!0))}else c=!0,h="nodata",s=s.concat(lh(e.serverSyncTree_,l.currentWriteId,!0))}Xh(e.eventQueue_,n,s),s=[],c&&(t[a].status=2,o=t[a].unwatcher,setTimeout(o,Math.floor(0)),t[a].onComplete&&("nodata"===h?i.push((()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot))):i.push((()=>t[a].onComplete(new Error(h),!1,null)))))}var o;dc(e,e.transactionQueueTree_);for(let e=0;e<i.length;e++)ha(i[e]);ac(e,e.transactionQueueTree_)}(e,hc(e,n),i),i}function uc(e,t){let n,i=e.transactionQueueTree_;for(n=Ba(t);null!==n&&void 0===Dh(i);)i=Mh(i,n),n=Ba(t=za(t));return i}function hc(e,t){const n=[];return cc(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function cc(e,t,n){const i=Dh(t);if(i)for(let e=0;e<i.length;e++)n.push(i[e]);Rh(t,(t=>{cc(e,t,n)}))}function dc(e,t){const n=Dh(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Fh(t,n.length>0?n:void 0)}Rh(t,(t=>{dc(e,t)}))}function pc(e,t){const n=Nh(uc(e,t)),i=Mh(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(i,(t=>{fc(e,t)})),fc(e,i),Lh(i,(t=>{fc(e,t)})),n}function fc(e,t){const n=Dh(t);if(n){const i=[];let s=[],r=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ps(r===t-1,"All SENT items should be at beginning of queue."),r=t,n[t].status=3,n[t].abortReason="set"):(Ps(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(lh(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===r?Fh(t,void 0):n.length=r+1,Xh(e.eventQueue_,Nh(t),s);for(let e=0;e<i.length;e++)ha(i[e])}}const mc=function(e,t){const n=_c(e),i=n.namespace;"firebase.com"===n.domain&&Xo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Xo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ya(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new La(n.pathString)}},_c=function(e){let t="",n="",i="",s="",r="",o=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let h=e.indexOf("/");-1===h&&(h=e.length);let c=e.indexOf("?");-1===c&&(c=e.length),t=e.substring(0,Math.min(h,c)),h<c&&(s=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(e){}t+="/"+s}return t}(e.substring(h,c)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Qo(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),r=i}"ns"in d&&(r=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}},gc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vc=function(){let e=0;const t=[];return function(n){const i=n===e;let s;e=n;const r=new Array(8);for(s=7;s>=0;s--)r[s]=gc.charAt(n%64),n=Math.floor(n/64);Ps(0===n,"Cannot push at time == 0");let o=r.join("");if(i){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)o+=gc.charAt(t[s]);return Ps(20===o.length,"nextPushId: Length should be 20."),o}}();class yc{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zs(this.snapshot.exportVal())}}class wc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bc{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ps(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Cc{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return Wa(this._path)?null:qa(this._path)}get ref(){return new kc(this._repo,this._path)}get _queryIdentifier(){const e=zl(this._queryParams),t=sa(e);return"{}"===t?"default":t}get _queryObject(){return zl(this._queryParams)}isEqual(e){if(!((e=ur(e))instanceof Cc))return!1;const t=this._repo===e._repo,n=Ga(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class kc extends Cc{constructor(e,t){super(e,t,new Bl,!1)}get parent(){const e=ja(this._path);return null===e?null:new kc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Tc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new La(e),n=Sc(this.ref,e);return new Tc(this._node.getChild(t),n,vl)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new Tc(n,Sc(this.ref,t),vl))))}hasChild(e){const t=new La(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ec(e,t){return(e=ur(e))._checkNotDeleted("ref"),void 0!==t?Sc(e._root,t):e._root}function Sc(e,t){var n;return null===Ba((e=ur(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$h("child","path",n,!1)):$h("child","path",t,!1),new kc(e._repo,Ha(e._path,t))}function xc(e,t){e=ur(e),Gh("set",e._path),Hh("set",t,e._path,!1);const n=new Us;return function(e,t,n,i,s){rc(e,"set",{path:t.toString(),value:n,priority:i});const r=ec(e),o=Il(n,i),a=dh(e.serverSyncTree_,t),l=Ih(o,a,r),u=sc(e),h=ah(e.serverSyncTree_,t,l,u,!0);Kh(e.eventQueue_,h),e.server_.put(t.toString(),o.val(!0),((n,i)=>{const r="ok"===n;r||Qo("set at "+t+" failed: "+n);const o=lh(e.serverSyncTree_,u,!r);Xh(e.eventQueue_,t,o),function(e,t,n,i){t&&ha((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;i&&(s+=": "+i);const r=new Error(s);r.code=e,t(r)}}))}(0,s,n,i)}));const c=pc(e,t);lc(e,c),Xh(e.eventQueue_,c,[])}(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ic(e){e=ur(e);const t=new bc((()=>{})),n=new Ac(t);return function(e,t,n){const i=function(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const s=$a(e,n);i=i||eh(t,s)}));let s=e.syncPointTree_.get(n);s?i=i||eh(s,Na()):(s=new Xu,e.syncPointTree_=e.syncPointTree_.set(n,s));const r=null!=i,o=r?new eu(i,!0,!1):null;return ou(Zu(s,t,bu(e.pendingWriteTree_,t._path),r?o.getNode():Sl.EMPTY_NODE,r).viewCache_)}(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then((i=>{const s=Il(i).withIndex(t._queryParams.getIndex());let r;if(function(e,t,n,i=!1){const s=t._path;let r=null,o=!1;e.syncPointTree_.foreachOnPath(s,((e,t)=>{const n=$a(e,s);r=r||eh(t,n),o=o||ih(t)}));let a,l=e.syncPointTree_.get(s);l?(o=o||ih(l),r=r||eh(l,Na())):(l=new Xu,e.syncPointTree_=e.syncPointTree_.set(s,l)),null!=r?a=!0:(a=!1,r=Sl.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild(((e,t)=>{const n=eh(t,Na());n&&(r=r.updateImmediateChild(e,n))})));const u=nh(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=vh(t);Ps(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=rh++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let h=function(e,t,n,i,s,r){const o=Zu(e,t,i,s,r);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vl,((e,t)=>{i.push(Dl(e,t))})),n.isFullyInitialized()&&i.push(Ml(n.getNode())),Gu(e,i,n.getNode(),t)}(o,n)}(l,t,n,bu(e.pendingWriteTree_,s),r,a);if(!u&&!o&&!i){const n=th(l,t);h=h.concat(function(e,t,n){const i=t._path,s=gh(e,t),r=_h(e,n),o=e.listenProvider_.startListening(Ch(t),s,r.hashFn,r.onComplete),a=e.syncPointTree_.subtree(i);if(s)Ps(!ih(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Wa(e)&&t&&ih(t))return[sh(t).query];{let e=[];return t&&(e=e.concat(Ju(t).map((e=>e.query)))),oa(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(Ch(i),gh(e,i))}}return o}(e,t,n))}}(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())r=uh(e.serverSyncTree_,t._path,s);else{const n=gh(e.serverSyncTree_,t);r=ch(e.serverSyncTree_,t._path,s,n)}return Xh(e.eventQueue_,t._path,r),hh(e.serverSyncTree_,t,n,null,!0),s}),(n=>(rc(e,"get for query "+Zs(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Tc(t,new kc(e._repo,e._path),e._queryParams.getIndex())))}class Ac{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new yc("value",this,new Tc(e.snapshotNode,new kc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wc(this,e,t):null}matches(e){return e instanceof Ac&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){Ps(!Yu,"__referenceConstructor has already been defined"),Yu=e}(kc),function(e){Ps(!Ku,"__referenceConstructor has already been defined"),Ku=e}(kc);const Pc={};class Mc{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=Ta(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ql(e.repoInfo_,((t,n,i,s)=>{tc(e,t,n,i,s)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>nc(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zs(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new el(e.repoInfo_,t,((t,n,i,s)=>{tc(e,t,n,i,s)}),(t=>{nc(e,t)}),(t=>{!function(e,t){oa(t,((t,n)=>{ic(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t){const n=t.toString();return ka[n]||(ka[n]=new Gl(e.stats_,e.server_)),ka[n]}(e.repoInfo_),e.infoData_=new Ul,e.infoSyncTree_=new oh({startListening:(t,n,i,s)=>{let r=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(r=uh(e.infoSyncTree_,t._path,o),setTimeout((()=>{s("ok")}),0)),r},stopListening:()=>{}}),ic(e,"connected",!1),e.serverSyncTree_=new oh({startListening:(t,n,i,s)=>(e.server_.listen(t,i,n,((n,i)=>{const r=s(n,i);Xh(e.eventQueue_,t._path,r)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,$s("Database",null!==this._repo.repoInfo_.emulatorOptions)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kc(this._repo,Na())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=Pc[t];n&&n[e.key]===e||Xo(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xo("Cannot call "+e+" on a deleted database.")}}el.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},el.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Ro="11.8.0",yo(new hr("database",((e,{instanceIdentifier:t})=>function(e,t,n,i,s){let r=i||e.options.databaseURL;void 0===r&&(e.options.projectId||Xo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Go("Using default host for project ",e.options.projectId),r=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=mc(r,s),u=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,r=`http://${a}?ns=${u.namespace}`,l=mc(r,s),u=l.repoInfo):o=!l.repoInfo.secure;const h=s&&o?new fa(fa.OWNER):new pa(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jh(e)}(n))throw new Error(ar("Invalid Firebase Database URL","url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})(0,l),Wa(l.path)||Xo("Database URL must point to the root of a Firebase Database (not including a child path).");const c=function(e,t,n,i){let s=Pc[t.name];s||(s={},Pc[t.name]=s);let r=s[e.toURLString()];return r&&Xo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Zh(e,!1,n,i),s[e.toURLString()]=r,r}(u,e,h,new da(e,n));return new Mc(c,e)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),ko(Fo,Oo,void 0),ko(Fo,Oo,"esm2017");const Dc=function(e=function(e=po){const t=mo.get(e);if(!t&&e===po&&qs())return Co();if(!t)throw wo.create("no-app",{appName:e});return t}(),t){const n=function(e){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider("database")}(e).getImmediate({identifier:t});if(!n._instanceStarted){const e=(()=>{const e=(e=>{var t,n;return null===(n=null===(t=zs())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})("database");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&function(e,t,n,i={}){(e=ur(e))._checkNotDeleted("useEmulator");const s=`${t}:${n}`,r=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&sr(i,r.repoInfo_.emulatorOptions))return;Xo("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fa(fa.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ls(JSON.stringify({alg:"none",type:"JWT"})),Ls(JSON.stringify(r)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new fa(t)}js(t)&&(async function(e){(await fetch(e,{credentials:"include"})).ok}(t),$s("Database",!0)),function(e,t,n,i){const s=t.lastIndexOf(":"),r=js(t.substring(0,s));e.repoInfo_=new ya(t,r,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}(r,s,i,o)}(n,...e)}return n}(Co(window.firebaseConfig));function Fc(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Oc(e,t){void 0===e&&(e={}),void 0===t&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{void 0===e[n]?e[n]=t[n]:Fc(t[n])&&Fc(e[n])&&Object.keys(t[n]).length>0&&Oc(e[n],t[n])}))}const Rc={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Lc(){const e="undefined"!=typeof document?document:{};return Oc(e,Rc),e}const Nc={document:Rc,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Bc(){const e="undefined"!=typeof window?window:{};return Oc(e,Nc),e}function Vc(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function zc(){return Date.now()}function qc(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Uc(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&(n=s,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const n=Object.keys(Object(s)).filter((e=>t.indexOf(e)<0));for(let t=0,i=n.length;t<i;t+=1){const i=n[t],r=Object.getOwnPropertyDescriptor(s,i);void 0!==r&&r.enumerable&&(qc(e[i])&&qc(s[i])?s[i].__swiper__?e[i]=s[i]:Uc(e[i],s[i]):!qc(e[i])&&qc(s[i])?(e[i]={},s[i].__swiper__?e[i]=s[i]:Uc(e[i],s[i])):e[i]=s[i])}}}var n;return e}function jc(e,t,n){e.style.setProperty(t,n)}function Hc(e){let{swiper:t,targetPosition:n,side:i}=e;const s=Bc(),r=-t.translate;let o,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const u=n>r?"next":"prev",h=(e,t)=>"next"===u&&e>=t||"prev"===u&&e<=t,c=()=>{o=(new Date).getTime(),null===a&&(a=o);const e=Math.max(Math.min((o-a)/l,1),0),u=.5-Math.cos(e*Math.PI)/2;let d=r+u*(n-r);if(h(d,n)&&(d=n),t.wrapperEl.scrollTo({[i]:d}),h(d,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:d})})),void s.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=s.requestAnimationFrame(c)};c()}function Wc(e,t){void 0===t&&(t="");const n=Bc(),i=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter((e=>e.matches(t))):i}function $c(e){try{return void console.warn(e)}catch(e){}}function Gc(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}(t)),n}function Yc(e,t){return Bc().getComputedStyle(e,null).getPropertyValue(t)}function Kc(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function Xc(e,t,n){const i=Bc();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function Qc(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}let Zc,Jc,ed;function td(){return Zc||(Zc=function(){const e=Bc(),t=Lc();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Zc}function nd(e){return void 0===e&&(e={}),Jc||(Jc=function(e){let{userAgent:t}=void 0===e?{}:e;const n=td(),i=Bc(),s=i.navigator.platform,r=t||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,u=r.match(/(Android);?[\s\/]+([\d.]+)?/);let h=r.match(/(iPad).*OS\s([\d_]+)/);const c=r.match(/(iPod)(.*OS\s([\d_]+))?/),d=!h&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===s;let f="MacIntel"===s;return!h&&f&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(h=r.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),f=!1),u&&!p&&(o.os="android",o.android=!0),(h||d||c)&&(o.os="ios",o.ios=!0),o}(e)),Jc}function id(){return ed||(ed=function(){const e=Bc(),t=nd();let n=!1;function i(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(i()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,i]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));n=e<16||16===e&&i<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=i();return{isSafari:n||r,needPerspectiveFix:n,need3dFix:r||s&&t.ios,isWebView:s}}()),ed}var sd={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const s=n?"unshift":"push";return e.split(" ").forEach((e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)})),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;function s(){i.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(i,r)}return s.__emitterProxy=t,i.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((i,s)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[e].splice(s,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],n=r.slice(1,r.length),i=e):(t=r[0].events,n=r[0].data,i=r[0].context||e),n.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(i,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(i,n)}))})),e}};const rd=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)},od=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)},ad=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){let t=n.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},ld=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},ud=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=s,r=[n-t];return r.push(...Array.from({length:t}).map(((e,t)=>n+i+t))),void e.slides.forEach(((t,n)=>{r.includes(t.column)&&ld(e,n)}))}const r=s+i-1;if(e.params.rewind||e.params.loop)for(let i=s-t;i<=r+t;i+=1){const t=(i%n+n)%n;(t<s||t>r)&&ld(e,t)}else for(let i=Math.max(s-t,0);i<=Math.min(r+t,n-1);i+=1)i!==s&&(i>r||i<s)&&ld(e,i)};var hd={updateSize:function(){const e=this;let t,n;const i=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:i.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:i.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Yc(i,"padding-left")||0,10)-parseInt(Yc(i,"padding-right")||0,10),n=n-parseInt(Yc(i,"padding-top")||0,10)-parseInt(Yc(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,h=Wc(s,`.${e.params.slideClass}, swiper-slide`),c=l?e.virtual.slides.length:h.length;let d=[];const p=[],f=[];let m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(e));let _=n.slidesOffsetAfter;"function"==typeof _&&(_=n.slidesOffsetAfter.call(e));const g=e.snapGrid.length,v=e.slidesGrid.length;let y=n.spaceBetween,w=-m,b=0,C=0;if(void 0===r)return;"string"==typeof y&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*r:"string"==typeof y&&(y=parseFloat(y)),e.virtualSize=-y,h.forEach((e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(jc(i,"--swiper-centered-offset-before",""),jc(i,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;let T;k?e.grid.initSlides(h):e.grid&&e.grid.unsetSlides();const E="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let i=0;i<c;i+=1){let s;if(T=0,h[i]&&(s=h[i]),k&&e.grid.updateSlide(i,s,h),!h[i]||"none"!==Yc(s,"display")){if("auto"===n.slidesPerView){E&&(h[i].style[e.getDirectionLabel("width")]="");const r=getComputedStyle(s),o=s.style.transform,a=s.style.webkitTransform;if(o&&(s.style.transform="none"),a&&(s.style.webkitTransform="none"),n.roundLengths)T=e.isHorizontal()?Xc(s,"width",!0):Xc(s,"height",!0);else{const e=t(r,"width"),n=t(r,"padding-left"),i=t(r,"padding-right"),o=t(r,"margin-left"),a=t(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)T=e+o+a;else{const{clientWidth:t,offsetWidth:r}=s;T=e+n+i+o+a+(r-t)}}o&&(s.style.transform=o),a&&(s.style.webkitTransform=a),n.roundLengths&&(T=Math.floor(T))}else T=(r-(n.slidesPerView-1)*y)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),h[i]&&(h[i].style[e.getDirectionLabel("width")]=`${T}px`);h[i]&&(h[i].swiperSlideSize=T),f.push(T),n.centeredSlides?(w=w+T/2+b/2+y,0===b&&0!==i&&(w=w-r/2-y),0===i&&(w=w-r/2-y),Math.abs(w)<.001&&(w=0),n.roundLengths&&(w=Math.floor(w)),C%n.slidesPerGroup==0&&d.push(w),p.push(w)):(n.roundLengths&&(w=Math.floor(w)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(w),p.push(w),w=w+T+y),e.virtualSize+=T+y,b=T,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+_,o&&a&&("slide"===n.effect||"coverflow"===n.effect)&&(i.style.width=`${e.virtualSize+y}px`),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+y}px`),k&&e.grid.updateWrapperSize(T,d),!n.centeredSlides){const t=[];for(let i=0;i<d.length;i+=1){let s=d[i];n.roundLengths&&(s=Math.floor(s)),d[i]<=e.virtualSize-r&&t.push(s)}d=t,Math.floor(e.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-r)}if(l&&n.loop){const t=f[0]+y;if(n.slidesPerGroup>1){const i=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),s=t*n.slidesPerGroup;for(let e=0;e<i;e+=1)d.push(d[d.length-1]+s)}for(let i=0;i<e.virtual.slidesBefore+e.virtual.slidesAfter;i+=1)1===n.slidesPerGroup&&d.push(d[d.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===d.length&&(d=[0]),0!==y){const t=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");h.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==h.length-1)).forEach((e=>{e.style[t]=`${y}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(y||0)})),e-=y;const t=e>r?e-r:0;d=d.map((e=>e<=0?-m:e>t?t+_:e))}if(n.centerInsufficientSlides){let e=0;f.forEach((t=>{e+=t+(y||0)})),e-=y;const t=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(e+t<r){const n=(r-e-t)/2;d.forEach(((e,t)=>{d[t]=e-n})),p.forEach(((e,t)=>{p[t]=e+n}))}}if(Object.assign(e,{slides:h,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){jc(i,"--swiper-centered-offset-before",-d[0]+"px"),jc(i,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(c!==u&&e.emit("slidesLengthChange"),d.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,i=e.el.classList.contains(t);c<=n.maxBackfaceHiddenSlides?i||e.el.classList.add(t):i&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let s,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>i?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const e=t.activeIndex+s;if(e>t.slides.length&&!i)break;n.push(o(e))}else n.push(o(t.activeIndex));for(s=0;s<n.length;s+=1)if(void 0!==n[s]){const e=n[s].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:i,rtlTranslate:s,snapGrid:r}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<i.length;e+=1){const l=i[e];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const h=(o+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+a),c=(o-r[0]+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+a),d=-(o-u),p=d+t.slidesSizesGrid[e],f=d>=0&&d<=t.size-t.slidesSizesGrid[e],m=d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size;m&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),rd(l,m,n.slideVisibleClass),rd(l,f,n.slideFullyVisibleClass),l.progress=s?-h:h,l.originalProgress=s?-c:c}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=t;const l=r,u=o;if(0===i)s=0,r=!0,o=!0;else{s=(e-t.minTranslate())/i;const n=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;r=n||s<=0,o=a||s>=1,n&&(s=0),a&&(s=1)}if(n.loop){const n=t.getSlideIndexByData(0),i=t.getSlideIndexByData(t.slides.length-1),s=t.slidesGrid[n],r=t.slidesGrid[i],o=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=s?(l-s)/o:(l+o-r)/o,a>1&&(a-=1)}Object.assign(t,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!r||u&&!o)&&t.emit("fromEdge"),t.emit("progress",s)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:s}=e,r=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,a=e=>Wc(i,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let l,u,h;if(r)if(n.loop){let t=s-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${t}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=t.find((e=>e.column===s)),h=t.find((e=>e.column===s+1)),u=t.find((e=>e.column===s-1))):l=t[s];l&&(o||(h=function(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=t[0]),u=function(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!u&&(u=t[t.length-1]))),t.forEach((e=>{od(e,e===l,n.slideActiveClass),od(e,e===h,n.slideNextClass),od(e,e===u,n.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=t;let l,u=e;const h=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===u&&(u=function(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let s;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?i>=t[e]&&i<t[e+1]-(t[e+1]-t[e])/2?s=e:i>=t[e]&&i<t[e+1]&&(s=e+1):i>=t[e]&&(s=e);return n.normalizeSlideIndex&&(s<0||void 0===s)&&(s=0),s}(t)),i.indexOf(n)>=0)l=i.indexOf(n);else{const e=Math.min(s.slidesPerGroupSkip,u);l=e+Math.floor((u-e)/s.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),u===r&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(u===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=h(u));const c=t.grid&&s.grid&&s.grid.rows>1;let d;if(t.virtual&&s.virtual.enabled&&s.loop)d=h(u);else if(c){const e=t.slides.find((e=>e.column===u));let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),d=Math.floor(n/s.grid.rows)}else if(t.slides[u]){const e=t.slides[u].getAttribute("data-swiper-slide-index");d=e?parseInt(e,10):u}else d=u;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:d,previousIndex:r,activeIndex:u}),t.initialized&&ud(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==d&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,i=n.params;let s=e.closest(`.${i.slideClass}, swiper-slide`);!s&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!s&&e.matches&&e.matches(`.${i.slideClass}, swiper-slide`)&&(s=e)}));let r,o=!1;if(s)for(let e=0;e<n.slides.length;e+=1)if(n.slides[e]===s){o=!0,r=e;break}if(!s||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=r,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};function cd(e){let{swiper:t,runCallbacks:n,direction:i,step:s}=e;const{activeIndex:r,previousIndex:o}=t;let a=i;if(a||(a=r>o?"next":r<o?"prev":"reset"),t.emit(`transition${s}`),n&&r!==o){if("reset"===a)return void t.emit(`slideResetTransition${s}`);t.emit(`slideChangeTransition${s}`),"next"===a?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`)}}var dd={slideTo:function(e,t,n,i,s){void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e&&(e=parseInt(e,10));const r=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:h,activeIndex:c,rtlTranslate:d,wrapperEl:p,enabled:f}=r;if(!f&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let _=m+Math.floor((o-m)/r.params.slidesPerGroup);_>=l.length&&(_=l.length-1);const g=-l[_];if(a.normalizeSlideIndex)for(let e=0;e<u.length;e+=1){const t=-Math.floor(100*g),n=Math.floor(100*u[e]),i=Math.floor(100*u[e+1]);void 0!==u[e+1]?t>=n&&t<i-(i-n)/2?o=e:t>=n&&t<i&&(o=e+1):t>=n&&(o=e)}if(r.initialized&&o!==c){if(!r.allowSlideNext&&(d?g>r.translate&&g>r.minTranslate():g<r.translate&&g<r.minTranslate()))return!1;if(!r.allowSlidePrev&&g>r.translate&&g>r.maxTranslate()&&(c||0)!==o)return!1}let v;o!==(h||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(g),v=o>c?"next":o<c?"prev":"reset";const y=r.virtual&&r.params.virtual.enabled;if((!y||!s)&&(d&&-g===r.translate||!d&&g===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==a.effect&&r.setTranslate(g),"reset"!==v&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const e=r.isHorizontal(),n=d?g:-g;if(0===t)y&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),y&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=n}))):p[e?"scrollLeft":"scrollTop"]=n,y&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1}));else{if(!r.support.smoothScroll)return Hc({swiper:r,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}const w=id().isSafari;return y&&!s&&w&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(t),r.setTranslate(g),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(n,v),0===t?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,i){void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;void 0===t&&(t=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o+=s.virtual.slidesBefore;else{let e;if(r){const t=o*s.params.grid.rows;e=s.slides.find((e=>1*e.getAttribute("data-swiper-slide-index")===t)).column}else e=s.getSlideIndexByData(o);const t=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:n}=s.params;let a=s.params.slidesPerView;"auto"===a?a=s.slidesPerViewDynamic():(a=Math.ceil(parseFloat(s.params.slidesPerView,10)),n&&a%2==0&&(a+=1));let l=t-e<a;if(n&&(l=l||e<Math.ceil(a/2)),i&&n&&"auto"!==s.params.slidesPerView&&!r&&(l=!1),l){const i=n?e<s.activeIndex?"prev":"next":e-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:i,slideTo:!0,activeSlideIndex:"next"===i?e+1:e-t+1,slideRealIndex:"next"===i?s.realIndex:void 0})}if(r){const e=o*s.params.grid.rows;o=s.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame((()=>{s.slideTo(o,t,n,i)})),s},slideNext:function(e,t,n){void 0===t&&(t=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;void 0===e&&(e=i.params.speed);let a=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,u=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!u&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame((()=>{i.slideTo(i.activeIndex+l,e,t,n)})),!0}return r.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===t&&(t=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=i;if(!l||i.destroyed)return i;void 0===e&&(e=i.params.speed);const h=i.virtual&&s.virtual.enabled;if(s.loop){if(u&&!h&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=c(a?i.translate:-i.translate),p=r.map((e=>c(e))),f=s.freeMode&&s.freeMode.enabled;let m=r[p.indexOf(d)-1];if(void 0===m&&(s.cssMode||f)){let e;r.forEach(((t,n)=>{d>=t&&(e=n)})),void 0!==e&&(m=f?r[e]:r[e>0?e-1:e])}let _=0;if(void 0!==m&&(_=o.indexOf(m),_<0&&(_=i.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),s.rewind&&i.isBeginning){const s=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(s,e,t,n)}return s.loop&&0===i.activeIndex&&s.cssMode?(requestAnimationFrame((()=>{i.slideTo(_,e,t,n)})),!0):i.slideTo(_,e,t,n)},slideReset:function(e,t,n){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===e&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)},slideToClosest:function(e,t,n,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const s=this;if(s.destroyed)return;void 0===e&&(e=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const e=s.snapGrid[a];l-e>(s.snapGrid[a+1]-e)*i&&(r+=s.params.slidesPerGroup)}else{const e=s.snapGrid[a-1];l-e<=(s.snapGrid[a]-e)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,e,t,n)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,r=e.clickedIndex;const o=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-i/2||r>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),r=e.getSlideIndex(Wc(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Vc((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-i?(e.loopFix(),r=e.getSlideIndex(Wc(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Vc((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}},pd={loopCreate:function(e){const t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{Wc(i,`.${n.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},r=t.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=t.slides.length%o!=0,l=r&&t.slides.length%n.grid.rows!=0,u=e=>{for(let i=0;i<e;i+=1){const e=t.isElement?Gc("swiper-slide",[n.slideBlankClass]):Gc("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(e)}};a?(n.loopAddBlankSlides?(u(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()):$c("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):l?(n.loopAddBlankSlides?(u(n.grid.rows-t.slides.length%n.grid.rows),t.recalcSlides(),t.updateSlides()):$c("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):s(),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:c,slidesEl:d,params:p}=l,{centeredSlides:f}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return n&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=h,l.allowSlideNext=c,void l.emit("loopFix");let m=p.slidesPerView;"auto"===m?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),f&&m%2==0&&(m+=1));const _=p.slidesPerGroupAuto?m:p.slidesPerGroup;let g=_;g%_!=0&&(g+=_-g%_),g+=p.loopAdditionalSlides,l.loopedSlides=g;const v=l.grid&&p.grid&&p.grid.rows>1;u.length<m+g?$c("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&"row"===p.grid.fill&&$c("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],w=[];let b=l.activeIndex;void 0===r?r=l.getSlideIndex(u.find((e=>e.classList.contains(p.slideActiveClass)))):b=r;const C="next"===i||!i,k="prev"===i||!i;let T=0,E=0;const S=v?Math.ceil(u.length/p.grid.rows):u.length,x=(v?u[r].column:r)+(f&&void 0===s?-m/2+.5:0);if(x<g){T=Math.max(g-x,_);for(let e=0;e<g-x;e+=1){const t=e-Math.floor(e/S)*S;if(v){const e=S-t-1;for(let t=u.length-1;t>=0;t-=1)u[t].column===e&&y.push(t)}else y.push(S-t-1)}}else if(x+m>S-g){E=Math.max(x-(S-2*g),_);for(let e=0;e<E;e+=1){const t=e-Math.floor(e/S)*S;v?u.forEach(((e,n)=>{e.column===t&&w.push(n)})):w.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),k&&y.forEach((e=>{u[e].swiperLoopMoveDOM=!0,d.prepend(u[e]),u[e].swiperLoopMoveDOM=!1})),C&&w.forEach((e=>{u[e].swiperLoopMoveDOM=!0,d.append(u[e]),u[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():v&&(y.length>0&&k||w.length>0&&C)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),p.watchSlidesProgress&&l.updateSlidesOffset(),n)if(y.length>0&&k){if(void 0===t){const e=l.slidesGrid[b],t=l.slidesGrid[b+T]-e;a?l.setTranslate(l.translate-t):(l.slideTo(b+Math.ceil(T),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(s){const e=v?y.length/p.grid.rows:y.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(w.length>0&&C)if(void 0===t){const e=l.slidesGrid[b],t=l.slidesGrid[b-E]-e;a?l.setTranslate(l.translate-t):(l.slideTo(b-E,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=v?w.length/p.grid.rows:w.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=h,l.allowSlideNext=c,l.controller&&l.controller.control&&!o){const e={slideRealIndex:t,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&n})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),i.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function fd(e,t,n){const i=Bc(),{params:s}=e,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return!r||!(n<=o||n>=i.innerWidth-o)||"prevent"===r&&(t.preventDefault(),!0)}function md(e){const t=this,n=Lc();let i=e;i.originalEvent&&(i=i.originalEvent);const s=t.touchEventsData;if("pointerdown"===i.type){if(null!==s.pointerId&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(s.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void fd(t,i,i.targetTouches[0].pageX);const{params:r,touches:o,enabled:a}=t;if(!a)return;if(!r.simulateTouch&&"mouse"===i.pointerType)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let l=i.target;if("wrapper"===r.touchEventsTarget&&!function(e,t){const n=Bc();let i=t.contains(e);return!i&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=function(e,t){const n=[t];for(;n.length>0;){const t=n.shift();if(e===t)return!0;n.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t))),i}(l,t.wrapperEl))return;if("which"in i&&3===i.which)return;if("button"in i&&i.button>0)return;if(s.isTouched&&s.isMoved)return;const u=!!r.noSwipingClass&&""!==r.noSwipingClass,h=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&h&&(l=h[0]);const c=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,d=!(!i.target||!i.target.shadowRoot);if(r.noSwiping&&(d?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===Lc()||n===Bc())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(e);return i||n.getRootNode?i||t(n.getRootNode().host):null}(t)}(c,l):l.closest(c)))return void(t.allowClick=!0);if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const p=o.currentX,f=o.currentY;if(!fd(t,i,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=f,s.touchStartTime=zc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,"SELECT"===l.nodeName&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&("mouse"===i.pointerType||"mouse"!==i.pointerType&&!l.matches(s.focusableElements))&&n.activeElement.blur();const _=m&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!_||l.isContentEditable||i.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function _d(e){const t=Lc(),n=this,i=n.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=n;if(!a)return;if(!s.simulateTouch&&"mouse"===e.pointerType)return;let l,u=e;if(u.originalEvent&&(u=u.originalEvent),"pointermove"===u.type){if(null!==i.touchId)return;if(u.pointerId!==i.pointerId)return}if("touchmove"===u.type){if(l=[...u.changedTouches].find((e=>e.identifier===i.touchId)),!l||l.identifier!==i.touchId)return}else l=u;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",u));const h=l.pageX,c=l.pageY;if(u.preventedByNestedSwiper)return r.startX=h,void(r.startY=c);if(!n.allowTouchMove)return u.target.matches(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(r,{startX:h,startY:c,currentX:h,currentY:c}),i.touchStartTime=zc()));if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(c<r.startY&&n.translate<=n.maxTranslate()||c>r.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(h<r.startX&&n.translate<=n.maxTranslate()||h>r.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==u.target&&"mouse"!==u.pointerType&&t.activeElement.blur(),t.activeElement&&u.target===t.activeElement&&u.target.matches(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);i.allowTouchCallbacks&&n.emit("touchMove",u),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=h,r.currentY=c;const d=r.currentX-r.startX,p=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(d**2+p**2)<n.params.threshold)return;if(void 0===i.isScrolling){let e;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:d*d+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(d))/Math.PI,i.isScrolling=n.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",u),void 0===i.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(i.startMoving=!0)),i.isScrolling||"touchmove"===u.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let f=n.isHorizontal()?d:p,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(f=Math.abs(f)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=f,f*=s.touchRatio,o&&(f=-f,m=-m);const _=n.touchesDirection;n.swipeDirection=f>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const g=n.params.loop&&!s.cssMode,v="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!i.isMoved){if(g&&v&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!s.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if((new Date).getTime(),!1!==s._loopSwapReset&&i.isMoved&&i.allowThresholdMove&&_!==n.touchesDirection&&g&&v&&Math.abs(f)>=1)return Object.assign(r,{startX:h,startY:c,currentX:h,currentY:c,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);n.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=f+i.startTranslate;let y=!0,w=s.resistanceRatio;if(s.touchReleaseOnEdges&&(w=0),f>0?(g&&v&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(y=!1,s.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+f)**w))):f<0&&(g&&v&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===s.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(y=!1,s.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-f)**w))),y&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),n.allowSlidePrev||n.allowSlideNext||(i.currentTranslate=i.startTranslate),s.threshold>0){if(!(Math.abs(f)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,void(r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function gd(e){const t=this,n=t.touchEventsData;let i,s=e;if(s.originalEvent&&(s=s.originalEvent),"touchend"===s.type||"touchcancel"===s.type){if(i=[...s.changedTouches].find((e=>e.identifier===n.touchId)),!i||i.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&(!["pointercancel","contextmenu"].includes(s.type)||!t.browser.isSafari&&!t.browser.isWebView))return;n.pointerId=null,n.touchId=null;const{params:r,touches:o,rtlTranslate:a,slidesGrid:l,enabled:u}=t;if(!u)return;if(!r.simulateTouch&&"mouse"===s.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const h=zc(),c=h-n.touchStartTime;if(t.allowClick){const e=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(e&&e[0]||s.target,e),t.emit("tap click",s),c<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=zc(),Vc((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===o.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});const p=d>=-t.maxTranslate()&&!t.params.loop;let f=0,m=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[e+t]?(p||d>=l[e]&&d<l[e+t])&&(f=e,m=l[e+t]-l[e]):(p||d>=l[e])&&(f=e,m=l[l.length-1]-l[l.length-2])}let _=null,g=null;r.rewind&&(t.isBeginning?g=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(_=0));const v=(d-l[f])/m,y=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(v>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?_:f+y):t.slideTo(f)),"prev"===t.swipeDirection&&(v>1-r.longSwipesRatio?t.slideTo(f+y):null!==g&&v<0&&Math.abs(v)>r.longSwipesRatio?t.slideTo(g):t.slideTo(f))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||s.target!==t.navigation.nextEl&&s.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==_?_:f+y),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:f)):s.target===t.navigation.nextEl?t.slideTo(f+y):t.slideTo(f)}}function vd(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function yd(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function wd(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;let s;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();s=0===r?0:(e.translate-e.minTranslate())/r,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function bd(e){const t=this;ad(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Cd(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const kd=(e,t)=>{const n=Lc(),{params:i,el:s,wrapperEl:r,device:o}=e,a=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",u=t;s&&"string"!=typeof s&&(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",e.onClick,!0),i.cssMode&&r[l]("scroll",e.onScroll),i.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",vd,!0):e[u]("observerUpdate",vd,!0),s[l]("load",e.onLoad,{capture:!0}))},Td=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Ed={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Sd(e,t){return function(n){void 0===n&&(n={});const i=Object.keys(n)[0],s=n[i];"object"==typeof s&&null!==s?(!0===e[i]&&(e[i]={enabled:!0}),"navigation"===i&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),i in e&&"enabled"in s?("object"!=typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),Uc(t,n)):Uc(t,n)):Uc(t,n)}}const xd={eventsEmitter:sd,update:hd,translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:i,wrapperEl:s}=this;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let r=function(e,t){void 0===t&&(t="x");const n=Bc();let i,s,r;const o=function(e){const t=Bc();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map((e=>e.replace(",","."))).join(", ")),r=new n.WebKitCSSMatrix("none"===s?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),"x"===t&&(s=n.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(s=n.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0}(s,e);return r+=this.cssOverflowAdjustment(),n&&(r=-r),r||0},setTranslate:function(e,t){const n=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=n;let a,l=0,u=0;n.isHorizontal()?l=i?-e:e:u=e,s.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,s.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${u}px, 0px)`);const h=n.maxTranslate()-n.minTranslate();a=0===h?0:(e-n.minTranslate())/h,a!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,i,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),u=r.maxTranslate();let h;if(h=i&&e>l?l:i&&e<u?u:e,r.updateProgress(h),o.cssMode){const e=r.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-h;else{if(!r.support.smoothScroll)return Hc({swiper:r,targetPosition:-h,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-h,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(h),n&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(h),n&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),cd({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;n.animating=!1,i.cssMode||(n.setTransition(0),cd({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:dd,loop:pd,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=md.bind(e),e.onTouchMove=_d.bind(e),e.onTouchEnd=gd.bind(e),e.onDocumentTouchStart=Cd.bind(e),t.cssMode&&(e.onScroll=wd.bind(e)),e.onClick=yd.bind(e),e.onLoad=bd.bind(e),kd(e,"on")},detachEvents:function(){kd(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:i,el:s}=e,r=i.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const o=Lc(),a="window"!==i.breakpointsBase&&i.breakpointsBase?"container":i.breakpointsBase,l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:o.querySelector(i.breakpointsBase),u=e.getBreakpoint(r,a,l);if(!u||e.currentBreakpoint===u)return;const h=(u in r?r[u]:void 0)||e.originalParams,c=Td(e,i),d=Td(e,h),p=e.params.grabCursor,f=h.grabCursor,m=i.enabled;c&&!d?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&d&&(s.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&"column"===h.grid.fill||!h.grid.fill&&"column"===i.grid.fill)&&s.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!f?e.unsetGrabCursor():!p&&f&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===h[t])return;const n=i[t]&&i[t].enabled,s=h[t]&&h[t].enabled;n&&!s&&e[t].disable(),!n&&s&&e[t].enable()}));const _=h.direction&&h.direction!==i.direction,g=i.loop&&(h.slidesPerView!==i.slidesPerView||_),v=i.loop;_&&n&&e.changeDirection(),Uc(e.params,h);const y=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),m&&!y?e.disable():!m&&y&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",h),n&&(g?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!v&&w?(e.loopCreate(t),e.updateSlides()):v&&!w&&e.loopDestroy()),e.emit("breakpoint",h)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let i=!1;const s=Bc(),r="window"===t?s.innerHeight:n.clientHeight,o=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));o.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<o.length;e+=1){const{point:r,value:a}=o[e];"window"===t?s.matchMedia(`(min-width: ${a}px)`).matches&&(i=r):a<=n.clientWidth&&(i=r)}return i||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:n,rtl:i,el:s,device:r}=e,o=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((i=>{e[i]&&n.push(t+i)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Id={};class Ad{constructor(){let e,t;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?t=i[0]:[e,t]=i,t||(t={}),t=Uc({},t),e&&!t.el&&(t.el=e);const r=Lc();if(t.el&&"string"==typeof t.el&&r.querySelectorAll(t.el).length>1){const e=[];return r.querySelectorAll(t.el).forEach((n=>{const i=Uc({},t,{el:n});e.push(new Ad(i))})),e}const o=this;o.__swiper__=!0,o.support=td(),o.device=nd({userAgent:t.userAgent}),o.browser=id(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const a={};o.modules.forEach((e=>{e({params:t,swiper:o,extendParams:Sd(t,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const l=Uc({},Ed,a);return o.params=Uc({},l,Id,t),o.originalParams=Uc({},o.params),o.passedParams=Uc({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,i=Kc(Wc(t,`.${n.slideClass}, swiper-slide`)[0]);return Kc(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)))}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Wc(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),s=(n.maxTranslate()-i)*e+i;n.translateTo(s,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:i,slidesGrid:s,slidesSizesGrid:r,size:o,activeIndex:a}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=i[a]?Math.ceil(i[a].swiperSlideSize):0;for(let n=a+1;n<i.length;n+=1)i[n]&&!e&&(t+=Math.ceil(i[n].swiperSlideSize),l+=1,t>o&&(e=!0));for(let n=a-1;n>=0;n-=1)i[n]&&!e&&(t+=i[n].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let e=a+1;e<i.length;e+=1)(t?s[e]+r[e]-s[a]<o:s[e]-s[a]<o)&&(l+=1);else for(let e=a-1;e>=0;e-=1)s[a]-s[e]<o&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&ad(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(t.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,i=n.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):Wc(n,i())[0];return!s&&t.params.createElements&&(s=Gc("div",t.params.wrapperClass),n.append(s),Wc(n,`.${t.params.slideClass}`).forEach((e=>{s.append(e)}))),Object.assign(t,{el:n,wrapperEl:s,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Yc(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Yc(n,"direction")),wrongRTL:"-webkit-box"===Yc(s,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((e=>{e.complete?ad(t,e):e.addEventListener("load",(e=>{ad(t,e.target)}))})),ud(t),t.initialized=!0,ud(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:i,el:s,wrapperEl:r,slides:o}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),r&&r.removeAttribute("style"),o&&o.length&&o.forEach((e=>{e.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){Uc(Id,e)}static get extendedDefaults(){return Id}static get defaults(){return Ed}static installModule(e){Ad.prototype.__modules__||(Ad.prototype.__modules__=[]);const t=Ad.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>Ad.installModule(e))),Ad):(Ad.installModule(e),Ad)}}function Pd(e){let{swiper:t,extendParams:n,on:i,emit:s}=e;function r(e){let n;return e&&"string"==typeof e&&t.isElement&&(n=t.el.querySelector(e)||t.hostEl.querySelector(e),n)?n:(e&&("string"==typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&n&&n.length>1&&1===t.el.querySelectorAll(e).length?n=t.el.querySelector(e):n&&1===n.length&&(n=n[0])),e&&!n?e:n)}function o(e,n){const i=t.params.navigation;(e=Qc(e)).forEach((e=>{e&&(e.classList[n?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass))}))}function a(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return o(n,!1),void o(e,!1);o(n,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),s("navigationPrev"))}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),s("navigationNext"))}function h(){const e=t.params.navigation;if(t.params.navigation=function(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach((s=>{if(!n[s]&&!0===n.auto){let r=Wc(e.el,`.${i[s]}`)[0];r||(r=Gc("div",i[s]),r.className=i[s],e.el.append(r)),n[s]=r,t[s]=r}})),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=r(e.nextEl),i=r(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:i}),n=Qc(n),i=Qc(i);const s=(n,i)=>{n&&n.addEventListener("click","next"===i?u:l),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach((e=>s(e,"next"))),i.forEach((e=>s(e,"prev")))}function c(){let{nextEl:e,prevEl:n}=t.navigation;e=Qc(e),n=Qc(n);const i=(e,n)=>{e.removeEventListener("click","next"===n?u:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>i(e,"next"))),n.forEach((e=>i(e,"prev")))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",(()=>{!1===t.params.navigation.enabled?d():(h(),a())})),i("toEdge fromEdge lock unlock",(()=>{a()})),i("destroy",(()=>{c()})),i("enable disable",(()=>{let{nextEl:e,prevEl:n}=t.navigation;e=Qc(e),n=Qc(n),t.enabled?a():[...e,...n].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),i("click",((e,n)=>{let{nextEl:i,prevEl:r}=t.navigation;i=Qc(i),r=Qc(r);const o=n.target;let a=r.includes(o)||i.includes(o);if(t.isElement&&!a){const e=n.path||n.composedPath&&n.composedPath();e&&(a=e.find((e=>i.includes(e)||r.includes(e))))}if(t.params.navigation.hideOnClick&&!a){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;i.length?e=i[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),s(!0===e?"navigationShow":"navigationHide"),[...i,...r].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const d=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),c()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),h(),a()},disable:d,update:a,init:h,destroy:c})}function Md(e){const t=document.createElement("p");return t.classList.add("error"),t.textContent=e,t}function Dd(){document.querySelectorAll(".error").forEach((e=>e.remove()))}function Fd(e){return e?e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}function Od(){(function(){const e=document.querySelector(".modal");if(!e)return;const t=document.querySelectorAll(".open-modal"),n=document.querySelector(".modal__box"),i=document.querySelector(".modal__form"),s=document.querySelector(".modal__btn"),r=document.querySelectorAll(".form-data"),o=document.getElementById("tel"),a=o?rs(o,{mask:"+7(000)000-00-00",lazy:!1}):null,l=t=>{e.classList.toggle("open",t),document.body.style.overflow=t?"hidden":"visible",t&&a&&a.updateValue()},u=()=>{l(!1),i?.reset(),r.forEach((e=>{e.classList.remove("input-invalid");const t=e.parentElement.querySelector("error-message");t&&t.remove()}))},h=()=>{l(!0)},c=(e,t)=>{const n=e.parentElement.querySelector(".error-message");if(n&&n.remove(),t){const n=document.createElement("div");n.textContent=t,n.classList.add("error-message"),e.parentElement.append(n),e.classList.add("input-invalid")}else e.classList.remove("input-invalid")},d=e=>{if("checkbox"!==e.type&&(e.value=e.value.replace(/<[^>]*>/g,"").replace(/javascript:/gi,"").replace(/(https?:\/\/|www\.)\S+/gi,"")),"checkbox"===e.type){if(!e.checked)return c(e,"Необходимо согласие на обработку персональных данных"),!1}else if("tel"===e.name&&a){if(a.updateValue(),a.unmaskedValue.length<10)return c(e,"Телефон должен быть заполнен"),!1}else if(""===e.value.trim()){const t=e.placeholder||"Поле";return c(e,`${t} обязательно для заполнения`),!1}return c(e,""),!0},p=(e,t)=>{const n=document.createElement("div");n.classList.add("notify"),n.style.backgroundColor=t,n.textContent=e,document.body.append(n),$i.from(n,{y:"-50",duration:1,ease:"power1.in"}),setTimeout((()=>{$i.to(n,{y:-50,duration:.8,ease:"power1.out",onComplete:()=>n.remove()})}),3e3)},f=()=>{const e=new Date,t=e=>String(e).padStart(2,"0");return`${t(e.getDate())}.${t(e.getMonth()+1)}.${e.getFullYear()} ${t(e.getHours())}:${t(e.getMinutes())}`};t.forEach((e=>{e.addEventListener("click",h)})),n&&n.addEventListener("click",(e=>{e._isClickWithinModal=!0})),e.addEventListener("click",(e=>{e._isClickWithinModal||u()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&u()})),r.forEach((e=>{e.addEventListener("input",(()=>d(e))),"checkbox"===e.type&&e.addEventListener("change",(()=>d(e)))})),s&&s.addEventListener("click",(async e=>{if(e.preventDefault(),(()=>{let e=!0;return r.forEach((t=>{d(t)||(e=!1)})),e})())try{const[e,t,n]=r,i={name:e.value,phone:t.value,message:n.value,date:f(),completed:!1},s=(e=>{const t=new Date,n=[t.getFullYear(),String(t.getMonth()+1).padStart(2,"0"),String(t.getDate()).padStart(2,"0")].join(""),i=[String(t.getHours()).padStart(2,"0"),String(t.getMinutes()).padStart(2,"0")].join(""),s=e.phone.replace(/\D/g,"").slice(-4);return`${n}-${i}-${e.name.charAt(0).toUpperCase()}${s}`})(i),o=Ec(Dc,`orders/${s}`);if((await Ic(o)).exists()){i._originalId=s;const e=function(e){e=ur(e),Gh("push",e._path),Hh("push",void 0,e._path,!0);const t=Jh(e._repo),n=vc(t),i=Sc(e,n),s=Sc(e,n);let r;return r=Promise.resolve(s),i.then=r.then.bind(r),i.catch=r.then.bind(r,void 0),i}(Ec(database,"orders"));await xc(e,i)}else await xc(o,i);p("Данные отправлены","green"),u()}catch(e){console.error("Order submit error",e);const t=window.innerWidth<=576?"Произошла ошибка\nперезвоните по номеру +7(905)287-77-22":"Произошла ошибка";p(t,"red")}}))})(),function(){const e=document.querySelectorAll(".accordion__item"),t=(e,t=!1)=>{const n=e.classList.contains("active"),i=e.querySelector(".accordion__btn").nextElementSibling,s=window.innerWidth<576;if(n||t)return e.classList.remove("active"),i.style.maxHeight=null,void(i.style.marginBottom="0");e.classList.add("active");const r=i.scrollHeight;i.style.maxHeight=r+"px",i.style.paddingLeft=s?"11px":"27px",i.style.marginBottom=s?"20px":"28px",i.style.paddingRight=s?"11px":"27px",e.offsetHeight,i.style.maxHeight=i.scrollHeight+"px"},n=()=>{document.querySelectorAll(".accordion__item.active").forEach((e=>{const t=e.querySelector(".accordion__btn").nextElementSibling,n=window.innerWidth<576;t.style.maxHeight&&(t.style.maxHeight=t.scrollHeight+"px",t.style.paddingLeft=n?"11px":"27px",t.style.marginBottom=n?"20px":"28px",t.style.paddingRight=n?"11px":"27px",e.offsetHeight)}))};let i;document.addEventListener("click",(n=>{const i=n.target.closest(".accordion__btn");if(!i)return;const s=i.closest(".accordion__item");e.forEach((e=>{e!==s&&t(e,!0)})),t(s)})),window.addEventListener("resize",(()=>{clearTimeout(i),i=setTimeout(n,1e3)}))}(),async function(){const e=document.querySelector(".swiper-wrapper");try{Dd();const t=await fetch("./assets/json/example.json");if(!t.ok)throw new Error(`HTTP ошибка! статус: ${t.status}`);const{examples:n}=await t.json();if(!n||!Array(n)||0===n.length)throw new Error("Нет данных примеров");e.innerHTML="";const i=document.createDocumentFragment(),s=({title:e,mobileBeforeImage:t,mobileAfterImage:n,beforeImage:i,afterImage:s,tasks:r=[]})=>{const o=document.createElement("div");o.classList.add("example__slider-content","swiper-slide");const a=t?`<source media="(max-width: 576px)" srcset="${Fd(t)}">`:"",l=n?`<source media="(max-width: 576px)" srcset="${Fd(n)}">`:"";return o.innerHTML=`\n    <div class="example__photo">\n    <div class="example__before">\n    <picture>\n    ${a}\n    <img\n        class="example__img"\n        draggable="false"\n        srcset="${Fd(i)}"\n        alt="Фото до"\n        loading="lazy"\n        width="533"\n        height="531"\n      />\n    </picture>\n      \n      <div class="example__before-text">До</div>\n    </div>\n    <div class="example__after">\n    <picture>\n    ${l}\n    <img\n    <img\n    class="example__img"\n    draggable="false"\n    srcset="${Fd(s)}"\n    alt="Фото после"\n    loading="lazy"\n    width="533"\n    height="531"\n  />\n    </picture>\n     \n      <div class="example__after-text">После</div>\n    </div>\n    <div class="example__change">\n      <div class="example__btns">\n        <button class="example__btn btn-reset">\n          <svg class="example__slider-arrow slider-arrow">\n            <use xlink:href="img/sprite.svg#example--left-arrow"></use>\n          </svg>\n        </button>\n        <button class="example__btn btn-reset">\n          <svg class="example__slider-arrow slider-arrow">\n            <use xlink:href="img/sprite.svg#example--right-arrow"></use>\n          </svg>\n        </button>   \n      </div>\n    </div>\n  </div>\n  <div class="example__slider-inner">\n  <h3 class="example__slider-title">${Fd(e)}</h3>\n  <ul class="example__slider-list list-reset">\n  ${r.map((({title:e,text:t})=>`\n  <li class="example__slider-item">\n      <h4 class="example__slider-item-title">${Fd(e)}</h4>\n      <p class="example__slider-item-text">\n        ${Fd(t)}\n      </p>\n    </li>\n  `)).join("")}\n  </ul>\n</div>\n    `,o};n.forEach((e=>{i.append(s(e))})),e.append(i),new Ad(".swiper-example",{modules:[Pd],loop:!0,lazyPreloadPrevNext:1,allowTouchMove:!1,spaceBetween:30,speed:1e3,navigation:{nextEl:".swiper-button-custom-next",prevEl:".swiper-button-custom-prev"}}),document.querySelectorAll(".example__photo").forEach((e=>{const t=e.querySelector(".example__before"),n=t.querySelector(".example__img"),i=e.querySelector(".example__change");let s=!1;const r=()=>{n.style.width=`${e.offsetWidth}px`};function o(n){const s=e.getBoundingClientRect();let r=Math.max(0,Math.min(n-s.left,e.offsetWidth));t.style.width=`${r}px`,i.style.left=`${r}px`}function a(e){s=!0,o(e.clientX),e.preventDefault()}function l(e){s&&(o(e.clientX),e.preventDefault())}r(),window.addEventListener("resize",r);const u=()=>{s=!1};return e.addEventListener("pointerdown",a),document.addEventListener("pointermove",l),document.addEventListener("pointerup",u),document.addEventListener("pointercancel",u),()=>{window.removeEventListener("resize",r),e.removeEventListener("pointerdown",a),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",u),document.removeEventListener("pointercancel",u)}}))}catch(t){e.append(Md(t.message))}}(),async function(){const e=document.querySelector(".comment__list");try{Dd();const t=await fetch("./assets/json/comment.json");if(!t.ok)throw new Error(`HTTP ошибка! статус: ${t.status}`);const n=await t.json();if(!n||!Array(n)||0===n.length)throw new Error("Нет доступных отзывов");n.forEach((t=>{const n=document.createElement("li");n.classList.add("comment__item","swiper-slide");const i=t.img768?`<source media="(max-width: 768px)" srcset="${t.img768}">`:"",s=t.img430?`<source media="(max-width: 430px)" srcset="${t.img430}">`:"";n.innerHTML=`\n            <picture>\n            ${i}\n            ${s}\n  \n<img\n        loading="lazy"\n        class="comment__item-img"\n        srcset="${t.img}"\n        alt="Фото отзыва"\n        width="336"\n        height="336"\n      />\n            </picture>\n        \n      <div class="comment__item-content">\n        <h3 class="comment__item-title">Отзыв:</h3>\n        <p class="comment__item-text">\n          ${t.text}\n        </p>\n      </div>\n      <div class="comment__item-address">\n        <span class="comment__item-name">${t.name}</span>\n        <span class="comment__item-city">${t.city}</span>\n      </div>\n        `,e.append(n)})),function(e){const t={modules:[Pd],spaceBetween:30,lazyPreloadPrevNext:2,speed:1e3,breakpoints:{320:{slidesPerView:1},576:{slidesPerView:2},1024:{slidesPerView:3}},navigation:{nextEl:".swiper-button-custom-next",prevEl:".swiper-button-custom-prev"}};e>=4?t.loop=!0:console.warn("Недастаточно слайдов для режима loop"),new Ad(".swiper-comment",t)}(n.length)}catch(t){e.append(Md(t.message))}}(),document.querySelector(".footer-copyright__year").textContent=(new Date).getFullYear()}Object.keys(xd).forEach((e=>{Object.keys(xd[e]).forEach((t=>{Ad.prototype[t]=xd[e][t]}))})),Ad.use([function(e){let{swiper:t,on:n,emit:i}=e;const s=Bc();let r=null,o=null;const a=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};n("init",(()=>{t.params.resizeObserver&&void 0!==s.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver((e=>{o=s.requestAnimationFrame((()=>{const{width:n,height:i}=t;let s=n,r=i;e.forEach((e=>{let{contentBoxSize:n,contentRect:i,target:o}=e;o&&o!==t.el||(s=i?i.width:(n[0]||n).inlineSize,r=i?i.height:(n[0]||n).blockSize)})),s===n&&r===i||a()}))})),r.observe(t.el)):(s.addEventListener("resize",a),s.addEventListener("orientationchange",l))})),n("destroy",(()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:i,emit:s}=e;const r=[],o=Bc(),a=function(e,n){void 0===n&&(n={});const i=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void s("observerUpdate",e[0]);const n=function(){s("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(n):o.setTimeout(n,0)}));i.observe(e,{attributes:void 0===n.attributes||n.attributes,childList:t.isElement||(void 0===n.childList||n).childList,characterData:void 0===n.characterData||n.characterData}),r.push(i)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=function(e){const t=[];let n=e.parentElement;for(;n;)t.push(n),n=n.parentElement;return t}(t.hostEl);for(let t=0;t<e.length;t+=1)a(e[t])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}})),i("destroy",(()=>{r.forEach((e=>{e.disconnect()})),r.splice(0,r.length)}))}]),document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector(".header"),t=document.querySelector(".header__nav"),n=document.querySelector(".header__contacts"),i="fixed",s=$i.timeline({paused:!0}),r=$i.timeline({paused:!0}),o=()=>s.fromTo(e,{y:"-100%"},{y:0,duration:.5,ease:"none"}),a=()=>{r.fromTo(t,{x:"-10px",autoAlpha:0},{x:0,duration:.8,delay:.5,autoAlpha:1,ease:"power4.out"},"content").fromTo(n,{x:"10px",autoAlpha:0},{x:0,duration:.8,delay:.5,autoAlpha:1,ease:"power4.out"},"content")};let l=window.scrollY,u=!1,h=!1;h=window.scrollY>=10,h?(e.classList.add(i),s.add(o()).play()):r.add(a()).play(),window.addEventListener("scroll",(()=>{l=window.scrollY,u||(window.requestAnimationFrame((()=>{const t=l>=10;t&&!h?(h=!0,e.classList.add(i),s.clear().add(o()).play()):!t&&h&&(h=!1,s.clear().add(s.fromTo(e,{y:0},{y:"-100%",duration:.5,ease:"none",onComplete:()=>{$i.set(e,{y:0})}})).play().then((()=>{e.classList.remove(i),r.clear().add(a()).play()}))),u=!1})),u=!0)}),{passive:!0})}(),Gi(),window.requestIdleCallback?window.requestIdleCallback((()=>{Od()}),{timeout:2e3}):setTimeout(Od,500)}))})();